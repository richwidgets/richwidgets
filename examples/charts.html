<!DOCTYPE html>
<html>
<head>
    <title>Chart Demo</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="fragment" content="!"/>


    <link rel="stylesheet" media="screen" href="assets/bootstrap/bootstrap.css">
    <link rel="stylesheet" media="screen" href="assets/font-awesome/font-awesome.css">
    <link rel="stylesheet" media="screen" href="examples/styles/examples.css">
    <link rel="stylesheet" media="screen" href="assets/richfaces/output/chart.css">

    <script type="text/javascript" src="jquery/jquery.js"></script>
    <script type="text/javascript" src="jquery-ui/ui/jquery.ui.core.js"></script>
    <script type="text/javascript" src="jquery-ui/ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="jquery-ui/ui/jquery.ui.position.js"></script>
    <script type="text/javascript" src="jquery-ui/ui/jquery.ui.menu.js"></script>

    <script type="text/javascript" src="flot/jquery.flot.js"></script>
    <script type="text/javascript" src="flot/jquery.flot.selection.js"></script>
    <script type="text/javascript" src="flot/jquery.flot.pie.js"></script>
    <script type="text/javascript" src="flot/jquery.flot.categories.js"></script>
    <script type="text/javascript" src="flotTooltip/js/jquery.flot.tooltip.js"></script>

    <script type="text/javascript" src="flotOrderBars/js/jquery.flot.orderBars.js"></script><!-- Must be before stack plugin-->
    <script type="text/javascript" src="widgets/output/chart.js"></script>



    <style type="text/css">
       .rich-chart{
           width: 600px;
           height: 400px;

       }
       #flotTip
       {
           padding: 3px 5px;
           background-color: #000;
           z-index: 100;
           color: #fff;
           box-shadow: 0 0 10px #555;
           opacity: .7;
           filter: alpha(opacity=70);
           border: 2px solid #fff;
           -webkit-border-radius: 4px;
           -moz-border-radius: 4px;
           border-radius: 4px;
       }



    </style>



</head>
<body>

    <div class="navbar navbar-fixed-top">
        <div class="container">
            <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="navbar-brand" href="/">RichFaces Widgets</a>

            <div class="nav-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href="/">Home</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>Example charts!</h2>
        <!--
        <div style="width:600px;">
        <script src="http://gist-it.appspot.com/github/lukindo/richfaces-sandbox/blob/master/output/ui/src/main/resources/META-INF/resources/richfaces.output.js"></script>
                   </div>-->

        <div class="container">
            <h2>Basic line chart</h2>
            <div id="placeholder" class="rich-chart">
            </div>
            <span id="clickdata"></span>
            <span id="hoverdata"></span>

            <h2>Bar chart</h2>
            <div id="bar" class="rich-chart">
            </div>
            <span id="barclickdata"></span>

            <h2>Pie chart</h2>
            <div id="pie" class="rich-chart">
            </div>
            <span id="pieclickdata"></span>

         </div>
        <hr>

        <h2>Category bar chart</h2>
        <div id="category" class="rich-chart">
        </div>

        <h2>Multiple bar chart</h2>
        <div id="mulitplebar" class="rich-chart">
        </div>

        <h2>Multiple category bar chart</h2>
        <div id="mulitplecategorybar" class="rich-chart">
        </div>


        <h2>Widget factory</h2>
        <div id="widgetPokus" class="rich-chart"></div>
        <script type="text/javascript">
            $("#widgetPokus").chart({data:[[[1,2],[3,5],[10,4]]],
                charttype:"line",
                grid: {
                hoverable: true,
                clickable:true
                },
                zoom:true,

                tooltip: true,
                tooltipOpts: {
                    content: "%s  [%x,%y]",
                    shifts: {
                        x: 20,
                        y: 0
                    },
                    defaultTheme: false
                },
                xaxis:{
                    autoscaleMargin: 0.1
                },
                legend:{
                    sorted: false,
                    position: 'nw'
                }
            });
        </script>

        <h2>PieWidget</h2>
        <div id="pieWidget" class="rich-chart"></div>
        <script type="text/javascript">
            var options = {
                        data:[[{"data":4,"label":"b"},{"data":5,"label":"c"},{"data":3,"label":"a"}]],
                        "yaxis":{},
                        "ytype":"class java.lang.Number",
                        "xaxis":{},
                        "legend":{"sorted":"ascending"},
                        "zoom":false,
                        "xtype":"class java.lang.String",
                        "charttype":"pie"};

            $("#pieWidget").chart(options);
        </script>



    </div>

    <script type="text/javascript">
        $(function() {

            var d1=[[1,2],[3,5],[10,4]];
            var d2=[[1,5],[2,6],[9,8]];

            var lineData=[{data:d1,label:"whatever",color:'red'},{data:d2,label:"series 2"}];


            var plot=$.plot("#placeholder",lineData,{
                grid: {
                    hoverable: true,
                    clickable:true
                },

                tooltip: true,
                tooltipOpts: {
                    content: "%s  [%x,%y]",
                    shifts: {
                        x: 20,
                        y: 0
                    },
                    defaultTheme: false
                },
                xaxis:{
                  autoscaleMargin: 0.1
                },
                legend:{
                    sorted: false,
                    position: 'nw'
                }

            });



            $("#placeholder").bind("plotclick", function (event, pos, item) {
                if (item) {
                    $("#clickdata").text("click point " + item.dataIndex + " in" + item.series.label);
                    /*console.log(event);
                    console.log(pos);
                    console.log(item);*/
                }
            });

            $("#placeholder").bind("plothover", function (event, pos, item) {
                if (item) {
                    $("#hoverdata").text("hover point " + item.dataIndex + " in" + item.series.label);
                    /*console.log(event);
                    console.log(pos);
                    console.log(item);*/
                }
            });

            $("#placeholder").bind("mouseout",function(){$("#hoverdata").text("");console.log('mouseout')});




            var p =$.plot("#bar",[d1],
                    {
                        series:{
                            bars:{show:true}
                        },
                        grid: {
                            hoverable: true,
                            clickable:true
                        },
                        tooltip: true,
                        tooltipOpts: {
                            content: "%s  [%x,%y]",
                            shifts: {
                                x: 20,
                                y: 0
                            },
                            defaultTheme: false
                        }
                    });

            p.highlight(0, 0);

            $("#bar").bind("plotclick", function (event, pos, item) {
                if (item) {
                    $("#barclickdata").text(" - click point " + item.dataIndex + " in" + item.series.label);
                    /*console.log(event);
                    console.log(pos);
                    console.log(item);*/
                }
            });

            var pieData=[{label:"Industry",data:10, color:'black'},{label:"Service",data:10},{label:"IT",data:10}];
            var pie = $.plot("#pie",pieData,
                    {
                        series:{
                            pie:{show:true}
                        },
                        legend:{show:true},
                        grid: {
                            hoverable: true,
                            clickable:true
                        },
                        tooltip: true,
                        tooltipOpts: {
                            content: " %p.0%, %s",
                            shifts: {
                                x: 20,
                                y: 0
                            },
                            defaultTheme: false
                        }
                    });


            $("#pie").bind("plotclick", function (event, pos, item) {
                if (item) {
                    $("#pieclickdata").text(" - click point " + item.dataIndex + " in" + item.series.label);
                    /*console.log(event);
                    console.log(pos);
                    console.log(item);*/
                }
            });

            var dataC = [ ["January", 10], ["February", 8], ["March", 4], ["April", 13], ["May", 17], ["June", 9]];
            $.plot("#category",[dataC],
                    {
                        series: {
                            stack:0,
                            bars: {
                                show: true,
                                barWidth: 0.3,
                                align: "center"
                            }
                        },

                        grid: {
                            hoverable: true,
                            clickable: true
                        },
                        xaxis: {
                            mode: "categories",
                            tickLength: 0
                        },
                        tooltip: true,
                        tooltipOpts: {
                            content: "%s | X: %x | Y: %y",
                            shifts: {
                                x: 20,
                                y: 0
                            },
                            defaultTheme: false
                        },
                        xaxis: {
                            mode: "categories",
                            tickLength: 0
                        }
                    });









            // DATA DEFINITION
            function getData() {
                var data = [];

                data.push({
                    data: [[0.1, 0],[0.2, 1], [1, 4], [2, 2]]
                });

                data.push({
                    data: [[0.1, 5],[0.2, null], [1, 3], [2, 1]]
                });

                return data;
            }








// ORDERED CHART
            var d = getData();
            for(var i = 0; i<d.length; i++) {
                d[i].bars = {
                    order: i
                }
            }

            $.plot($('#mulitplebar'), d, {
                bars: {
                    show: true,
                    barWidth: 0.2
                },
                grid: {
                    hoverable: true,
                    clickable: true
                },
                xaxis: {
                    mode: "categories",
                    tickLength: 0
                },
                tooltip: true,
                tooltipOpts: {
                    content: "%s | X: %x | Y: %y",
                    shifts: {
                        x: 20,
                        y: 0
                    },
                    defaultTheme: false
                }
            });



            var datNum =  {data:[[1, 10], [2, 8], [3, 4], [4, 13], [5, 17], [6, 9]],bars:{order:0},label:'a'};
            var datNum2 = {data:[[1, 10], [2, 8], [3, 4], [4, 13], [5, 17], [6, 9]],bars:{order:1},label:'b'};
            var datNum3 = {data:[[1, 10], [2, 8], [3, 4], [4, 13], [5, 17], [6, 9]],bars:{order:2},label:'c'};


            $.plot($('#mulitplecategorybar'), [datNum,datNum2,datNum3], {
                bars: {
                    show: true,
                    barWidth: 0.2,
                    align:'center'
                },
                grid: {
                    hoverable: true,
                    clickable: true
                },
                xaxis: {
                    //->Small hack to multiple category series
                    ticks: [[1, "hyd"], [2, "vsp"], [3, "newyork"],[4,"london"],[5,"tokyo"],[6,"mumbai"]],
                    tickLength: 0
                },
                tooltip: true,
                tooltipOpts: {
                    //change to callback richfaces-widgets/components/flotTooltip/README.md
                    content: "%s | X: %x | Y: %y",
                    shifts: {
                        x: 20,
                        y: 0
                    },
                    defaultTheme: false
                }
            });

        });
    </script>



</body>
</html>