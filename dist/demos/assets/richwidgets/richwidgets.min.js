// JBoss RedHat (c)
(function(t){t.color={},t.color.make=function(e,i,s,n){var o={};return o.r=e||0,o.g=i||0,o.b=s||0,o.a=null!=n?n:1,o.add=function(t,e){for(var i=0;t.length>i;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;t.length>i;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return t>e?t:e>i?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(e,i){var s;do{if(s=e.css(i).toLowerCase(),""!=s&&"transparent"!=s)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==s&&(s="transparent"),t.color.parse(s)},t.color.parse=function(i){var s,n=t.color.make;if(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return n(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10));if(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4]));if(s=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return n(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]));if(s=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]),parseFloat(s[4]));if(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return n(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16));if(s=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return n(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16));var o=t.trim(i).toLowerCase();return"transparent"==o?n(255,255,255,0):(s=e[o]||[0,0,0],n(s[0],s[1],s[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(t){function e(e,i){var s=i.children("."+e)[0];if(null==s&&(s=document.createElement("canvas"),s.className=e,t(s).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!s.getContext)){if(!window.G_vmlCanvasManager)throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");s=window.G_vmlCanvasManager.initElement(s)}this.element=s;var n=this.context=s.getContext("2d"),o=window.devicePixelRatio||1,r=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=o/r,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,n,o,r){function a(t,e){e=[me].concat(e);for(var i=0;t.length>i;++i)t[i].apply(this,e)}function l(){for(var i={Canvas:e},s=0;r.length>s;++s){var n=r[s];n.init(me,i),n.options&&t.extend(!0,ne,n.options)}}function h(e){t.extend(!0,ne,e),null==ne.xaxis.color&&(ne.xaxis.color=""+t.color.parse(ne.grid.color).scale("a",.22)),null==ne.yaxis.color&&(ne.yaxis.color=""+t.color.parse(ne.grid.color).scale("a",.22)),null==ne.xaxis.tickColor&&(ne.xaxis.tickColor=ne.grid.tickColor||ne.xaxis.color),null==ne.yaxis.tickColor&&(ne.yaxis.tickColor=ne.grid.tickColor||ne.yaxis.color),null==ne.grid.borderColor&&(ne.grid.borderColor=ne.grid.color),null==ne.grid.tickColor&&(ne.grid.tickColor=""+t.color.parse(ne.grid.color).scale("a",.22));var s,n,o,r={style:i.css("font-style"),size:Math.round(.8*(+i.css("font-size").replace("px","")||13)),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(r.lineHeight=1.15*r.size,o=ne.xaxes.length||1,s=0;o>s;++s)n=ne.xaxes[s],n&&!n.tickColor&&(n.tickColor=n.color),n=t.extend(!0,{},ne.xaxis,n),ne.xaxes[s]=n,n.font&&(n.font=t.extend({},r,n.font),n.font.color||(n.font.color=n.color));for(o=ne.yaxes.length||1,s=0;o>s;++s)n=ne.yaxes[s],n&&!n.tickColor&&(n.tickColor=n.color),n=t.extend(!0,{},ne.yaxis,n),ne.yaxes[s]=n,n.font&&(n.font=t.extend({},r,n.font),n.font.color||(n.font.color=n.color));for(ne.xaxis.noTicks&&null==ne.xaxis.ticks&&(ne.xaxis.ticks=ne.xaxis.noTicks),ne.yaxis.noTicks&&null==ne.yaxis.ticks&&(ne.yaxis.ticks=ne.yaxis.noTicks),ne.x2axis&&(ne.xaxes[1]=t.extend(!0,{},ne.xaxis,ne.x2axis),ne.xaxes[1].position="top"),ne.y2axis&&(ne.yaxes[1]=t.extend(!0,{},ne.yaxis,ne.y2axis),ne.yaxes[1].position="right"),ne.grid.coloredAreas&&(ne.grid.markings=ne.grid.coloredAreas),ne.grid.coloredAreasColor&&(ne.grid.markingsColor=ne.grid.coloredAreasColor),ne.lines&&t.extend(!0,ne.series.lines,ne.lines),ne.points&&t.extend(!0,ne.series.points,ne.points),ne.bars&&t.extend(!0,ne.series.bars,ne.bars),null!=ne.shadowSize&&(ne.series.shadowSize=ne.shadowSize),null!=ne.highlightColor&&(ne.series.highlightColor=ne.highlightColor),s=0;ne.xaxes.length>s;++s)m(ce,s+1).options=ne.xaxes[s];for(s=0;ne.yaxes.length>s;++s)m(de,s+1).options=ne.yaxes[s];for(var l in ge)ne.hooks[l]&&ne.hooks[l].length&&(ge[l]=ge[l].concat(ne.hooks[l]));a(ge.processOptions,[ne])}function c(t){se=d(t),v(),x()}function d(e){for(var i=[],s=0;e.length>s;++s){var n=t.extend(!0,{},ne.series);null!=e[s].data?(n.data=e[s].data,delete e[s].data,t.extend(!0,n,e[s]),e[s].data=n.data):n.data=e[s],i.push(n)}return i}function u(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return t.grep(ce.concat(de),function(t){return t})}function f(t){var e,i,s={};for(e=0;ce.length>e;++e)i=ce[e],i&&i.used&&(s["x"+i.n]=i.c2p(t.left));for(e=0;de.length>e;++e)i=de[e],i&&i.used&&(s["y"+i.n]=i.c2p(t.top));return void 0!==s.x1&&(s.x=s.x1),void 0!==s.y1&&(s.y=s.y1),s}function g(t){var e,i,s,n={};for(e=0;ce.length>e;++e)if(i=ce[e],i&&i.used&&(s="x"+i.n,null==t[s]&&1==i.n&&(s="x"),null!=t[s])){n.left=i.p2c(t[s]);break}for(e=0;de.length>e;++e)if(i=de[e],i&&i.used&&(s="y"+i.n,null==t[s]&&1==i.n&&(s="y"),null!=t[s])){n.top=i.p2c(t[s]);break}return n}function m(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==ce?"x":"y",options:t.extend(!0,{},e==ce?ne.xaxis:ne.yaxis)}),e[i-1]}function v(){var e,i=se.length,s=-1;for(e=0;se.length>e;++e){var n=se[e].color;null!=n&&(i--,"number"==typeof n&&n>s&&(s=n))}s>=i&&(i=s+1);var o,r=[],a=ne.colors,l=a.length,h=0;for(e=0;i>e;e++)o=t.color.parse(a[e%l]||"#666"),0==e%l&&e&&(h=h>=0?.5>h?-h-.2:0:-h),r[e]=o.scale("rgb",1+h);var c,d=0;for(e=0;se.length>e;++e){if(c=se[e],null==c.color?(c.color=""+r[d],++d):"number"==typeof c.color&&(c.color=""+r[c.color]),null==c.lines.show){var p,f=!0;for(p in c)if(c[p]&&c[p].show){f=!1;break}f&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=m(ce,u(c,"x")),c.yaxis=m(de,u(c,"y"))}}function x(){function e(t,e,i){t.datamin>e&&e!=-x&&(t.datamin=e),i>t.datamax&&i!=x&&(t.datamax=i)}var i,s,n,o,r,l,h,c,d,u,f,g,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.MAX_VALUE;for(t.each(p(),function(t,e){e.datamin=m,e.datamax=v,e.used=!1}),i=0;se.length>i;++i)r=se[i],r.datapoints={points:[]},a(ge.processRawData,[r,r.data,r.datapoints]);for(i=0;se.length>i;++i){if(r=se[i],f=r.data,g=r.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var b=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),r.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}r.datapoints.format=g}if(null==r.datapoints.pointsize){r.datapoints.pointsize=g.length,h=r.datapoints.pointsize,l=r.datapoints.points;var y=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,s=n=0;f.length>s;++s,n+=h){u=f[s];var k=null==u;if(!k)for(o=0;h>o;++o)c=u[o],d=g[o],d&&(d.number&&null!=c&&(c=+c,isNaN(c)?c=null:1/0==c?c=x:c==-1/0&&(c=-x)),null==c&&(d.required&&(k=!0),null!=d.defaultValue&&(c=d.defaultValue))),l[n+o]=c;if(k)for(o=0;h>o;++o)c=l[n+o],null!=c&&(d=g[o],d.x&&e(r.xaxis,c,c),d.y&&e(r.yaxis,c,c)),l[n+o]=null;else if(y&&n>0&&null!=l[n-h]&&l[n-h]!=l[n]&&l[n-h+1]!=l[n+1]){for(o=0;h>o;++o)l[n+h+o]=l[n+o];l[n+1]=l[n-h+1],n+=h}}}}for(i=0;se.length>i;++i)r=se[i],a(ge.processDatapoints,[r,r.datapoints]);for(i=0;se.length>i;++i){r=se[i],l=r.datapoints.points,h=r.datapoints.pointsize,g=r.datapoints.format;var w=m,_=m,C=v,L=v;for(s=0;l.length>s;s+=h)if(null!=l[s])for(o=0;h>o;++o)c=l[s+o],d=g[o],d&&d.autoscale!==!1&&c!=x&&c!=-x&&(d.x&&(w>c&&(w=c),c>C&&(C=c)),d.y&&(_>c&&(_=c),c>L&&(L=c)));if(r.bars.show){var T;switch(r.bars.align){case"left":T=0;break;case"right":T=-r.bars.barWidth;break;case"center":T=-r.bars.barWidth/2;break;default:throw Error("Invalid bar alignment: "+r.bars.align)}r.bars.horizontal?(_+=T,L+=T+r.bars.barWidth):(w+=T,C+=T+r.bars.barWidth)}e(r.xaxis,w,C),e(r.yaxis,_,L)}t.each(p(),function(t,e){e.datamin==m&&(e.datamin=null),e.datamax==v&&(e.datamax=null)})}function b(){i.css("padding",0).children(":not(.flot-base,.flot-overlay)").remove(),"static"==i.css("position")&&i.css("position","relative"),oe=new e("flot-base",i),re=new e("flot-overlay",i),le=oe.context,he=re.context,ae=t(re.element).unbind();var s=i.data("plot");s&&(s.shutdown(),re.clear()),i.data("plot",me)}function y(){ne.grid.hoverable&&(ae.mousemove(X),ae.bind("mouseleave",K)),ne.grid.clickable&&ae.click(V),a(ge.bindEvents,[ae])}function k(){xe&&clearTimeout(xe),ae.unbind("mousemove",X),ae.unbind("mouseleave",K),ae.unbind("click",V),a(ge.shutdown,[ae])}function w(t){function e(t){return t}var i,s,n=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(i=t.scale=pe/Math.abs(n(t.max)-n(t.min)),s=Math.min(n(t.max),n(t.min))):(i=t.scale=fe/Math.abs(n(t.max)-n(t.min)),i=-i,s=Math.max(n(t.max),n(t.min))),t.p2c=n==e?function(t){return(t-s)*i}:function(t){return(n(t)-s)*i},t.c2p=o?function(t){return o(s+t/i)}:function(t){return s+t/i}}function _(t){for(var e=t.options,i=t.ticks||[],s=e.labelWidth||0,n=e.labelHeight||0,o=t.direction+"Axis "+t.direction+t.n+"Axis",r="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+o,a=e.font||"flot-tick-label tickLabel",l=0;i.length>l;++l){var h=i[l];if(h.label){var c=oe.getTextInfo(r,h.label,a);null==e.labelWidth&&(s=Math.max(s,c.width)),null==e.labelHeight&&(n=Math.max(n,c.height))}}t.labelWidth=Math.ceil(s),t.labelHeight=Math.ceil(n)}function C(e){var i,s=e.labelWidth,n=e.labelHeight,o=e.options.position,r=e.options.tickLength,a=ne.grid.axisMargin,l=ne.grid.labelMargin,h="x"==e.direction?ce:de,c=t.grep(h,function(t){return t&&t.options.position==o&&t.reserveSpace});if(t.inArray(e,c)==c.length-1&&(a=0),null==r){var d=t.grep(h,function(t){return t&&t.reserveSpace});i=0==t.inArray(e,d),r=i?"full":5}isNaN(+r)||(l+=+r),"x"==e.direction?(n+=l,"bottom"==o?(ue.bottom+=n+a,e.box={top:oe.height-ue.bottom,height:n}):(e.box={top:ue.top+a,height:n},ue.top+=n+a)):(s+=l,"left"==o?(e.box={left:ue.left+a,width:s},ue.left+=s+a):(ue.right+=s+a,e.box={left:oe.width-ue.right,width:s})),e.position=o,e.tickLength=r,e.box.padding=l,e.innermost=i}function L(t){"x"==t.direction?(t.box.left=ue.left-t.labelWidth/2,t.box.width=oe.width-ue.left-ue.right+t.labelWidth):(t.box.top=ue.top-t.labelHeight/2,t.box.height=oe.height-ue.bottom-ue.top+t.labelHeight)}function T(){var e,i=ne.grid.minBorderMargin,s={x:0,y:0};if(null==i)for(i=0,e=0;se.length>e;++e)i=Math.max(i,2*(se[e].points.radius+se[e].points.lineWidth/2));s.x=s.y=Math.ceil(i),t.each(p(),function(t,e){var i=e.direction;e.reserveSpace&&(s[i]=Math.ceil(Math.max(s[i],("x"==i?e.labelWidth:e.labelHeight)/2)))}),ue.left=Math.max(s.x,ue.left),ue.right=Math.max(s.x,ue.right),ue.top=Math.max(s.y,ue.top),ue.bottom=Math.max(s.y,ue.bottom)}function M(){var e,i=p(),s=ne.grid.show;for(var n in ue){var o=ne.grid.margin||0;ue[n]="number"==typeof o?o:o[n]||0}a(ge.processOffset,[ue]);for(var n in ue)ue[n]+="object"==typeof ne.grid.borderWidth?s?ne.grid.borderWidth[n]:0:s?ne.grid.borderWidth:0;if(t.each(i,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,O(e)}),s){var r=t.grep(i,function(t){return t.reserveSpace});for(t.each(r,function(t,e){S(e),I(e),H(e,e.ticks),_(e)}),e=r.length-1;e>=0;--e)C(r[e]);T(),t.each(r,function(t,e){L(e)})}pe=oe.width-ue.left-ue.right,fe=oe.height-ue.bottom-ue.top,t.each(i,function(t,e){w(e)}),s&&W(),$()}function O(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),s=+(null!=e.max?e.max:t.datamax),n=s-i;if(0==n){var o=0==s?1:.01;null==e.min&&(i-=o),(null==e.max||null!=e.min)&&(s+=o)}else{var r=e.autoscaleMargin;null!=r&&(null==e.min&&(i-=n*r,0>i&&null!=t.datamin&&t.datamin>=0&&(i=0)),null==e.max&&(s+=n*r,s>0&&null!=t.datamax&&0>=t.datamax&&(s=0)))}t.min=i,t.max=s}function S(e){var i,n=e.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==e.direction?oe.width:oe.height);var o=(e.max-e.min)/i,r=-Math.floor(Math.log(o)/Math.LN10),a=n.tickDecimals;null!=a&&r>a&&(r=a);var l,h=Math.pow(10,-r),c=o/h;if(1.5>c?l=1:3>c?(l=2,c>2.25&&(null==a||a>=r+1)&&(l=2.5,++r)):l=7.5>c?5:10,l*=h,null!=n.minTickSize&&n.minTickSize>l&&(l=n.minTickSize),e.delta=o,e.tickDecimals=Math.max(0,null!=a?a:r),e.tickSize=n.tickSize||l,"time"==n.mode&&!e.tickGenerator)throw Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,i=[],n=s(t.min,t.tickSize),o=0,r=Number.NaN;do e=r,r=n+o*t.tickSize,i.push(r),++o;while(t.max>r&&r!=e);return i},e.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,s=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var n=s.indexOf("."),o=-1==n?0:s.length-n-1;if(e.tickDecimals>o)return(o?s:s+".")+(""+i).substr(1,e.tickDecimals-o)}return s}),t.isFunction(n.tickFormatter)&&(e.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}),null!=n.alignTicksWithAxis){var d=("x"==e.direction?ce:de)[n.alignTicksWithAxis-1];if(d&&d.used&&d!=e){var u=e.tickGenerator(e);if(u.length>0&&(null==n.min&&(e.min=Math.min(e.min,u[0])),null==n.max&&u.length>1&&(e.max=Math.max(e.max,u[u.length-1]))),e.tickGenerator=function(t){var e,i,s=[];for(i=0;d.ticks.length>i;++i)e=(d.ticks[i].v-d.min)/(d.max-d.min),e=t.min+e*(t.max-t.min),s.push(e);return s},!e.mode&&null==n.tickDecimals){var p=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),f=e.tickGenerator(e);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(p))||(e.tickDecimals=p)}}}}function I(e){var i=e.options.ticks,s=[];null==i||"number"==typeof i&&i>0?s=e.tickGenerator(e):i&&(s=t.isFunction(i)?i(e):i);var n,o;for(e.ticks=[],n=0;s.length>n;++n){var r=null,a=s[n];"object"==typeof a?(o=+a[0],a.length>1&&(r=a[1])):o=+a,null==r&&(r=e.tickFormatter(o,e)),isNaN(o)||e.ticks.push({v:o,label:r})}}function H(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function D(){oe.clear(),a(ge.drawBackground,[le]);var t=ne.grid;t.show&&t.backgroundColor&&A(),t.show&&!t.aboveData&&F();for(var e=0;se.length>e;++e)a(ge.drawSeries,[le,se[e]]),z(se[e]);a(ge.draw,[le]),t.show&&t.aboveData&&F(),oe.render()}function P(t,e){for(var i,s,n,o,r=p(),a=0;r.length>a;++a)if(i=r[a],i.direction==e&&(o=e+i.n+"axis",t[o]||1!=i.n||(o=e+"axis"),t[o])){s=t[o].from,n=t[o].to;break}if(t[o]||(i="x"==e?ce[0]:de[0],s=t[e+"1"],n=t[e+"2"]),null!=s&&null!=n&&s>n){var l=s;s=n,n=l}return{from:s,to:n,axis:i}}function A(){le.save(),le.translate(ue.left,ue.top),le.fillStyle=ie(ne.grid.backgroundColor,fe,0,"rgba(255, 255, 255, 0)"),le.fillRect(0,0,pe,fe),le.restore()}function F(){var e,i,s,n;le.save(),le.translate(ue.left,ue.top);var o=ne.grid.markings;if(o)for(t.isFunction(o)&&(i=me.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,o=o(i)),e=0;o.length>e;++e){var r=o[e],a=P(r,"x"),l=P(r,"y");null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),a.to<a.axis.min||a.from>a.axis.max||l.to<l.axis.min||l.from>l.axis.max||(a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),(a.from!=a.to||l.from!=l.to)&&(a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),a.from==a.to||l.from==l.to?(le.beginPath(),le.strokeStyle=r.color||ne.grid.markingsColor,le.lineWidth=r.lineWidth||ne.grid.markingsLineWidth,le.moveTo(a.from,l.from),le.lineTo(a.to,l.to),le.stroke()):(le.fillStyle=r.color||ne.grid.markingsColor,le.fillRect(a.from,l.to,a.to-a.from,l.from-l.to))))}i=p(),s=ne.grid.borderWidth;for(var h=0;i.length>h;++h){var c,d,u,f,g=i[h],m=g.box,v=g.tickLength;if(g.show&&0!=g.ticks.length){for(le.lineWidth=1,"x"==g.direction?(c=0,d="full"==v?"top"==g.position?0:fe:m.top-ue.top+("top"==g.position?m.height:0)):(d=0,c="full"==v?"left"==g.position?0:pe:m.left-ue.left+("left"==g.position?m.width:0)),g.innermost||(le.strokeStyle=g.options.color,le.beginPath(),u=f=0,"x"==g.direction?u=pe+1:f=fe+1,1==le.lineWidth&&("x"==g.direction?d=Math.floor(d)+.5:c=Math.floor(c)+.5),le.moveTo(c,d),le.lineTo(c+u,d+f),le.stroke()),le.strokeStyle=g.options.tickColor,le.beginPath(),e=0;g.ticks.length>e;++e){var x=g.ticks[e].v;u=f=0,isNaN(x)||g.min>x||x>g.max||"full"==v&&("object"==typeof s&&s[g.position]>0||s>0)&&(x==g.min||x==g.max)||("x"==g.direction?(c=g.p2c(x),f="full"==v?-fe:v,"top"==g.position&&(f=-f)):(d=g.p2c(x),u="full"==v?-pe:v,"left"==g.position&&(u=-u)),1==le.lineWidth&&("x"==g.direction?c=Math.floor(c)+.5:d=Math.floor(d)+.5),le.moveTo(c,d),le.lineTo(c+u,d+f))}le.stroke()}}s&&(n=ne.grid.borderColor,"object"==typeof s||"object"==typeof n?("object"!=typeof s&&(s={top:s,right:s,bottom:s,left:s}),"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),s.top>0&&(le.strokeStyle=n.top,le.lineWidth=s.top,le.beginPath(),le.moveTo(0-s.left,0-s.top/2),le.lineTo(pe,0-s.top/2),le.stroke()),s.right>0&&(le.strokeStyle=n.right,le.lineWidth=s.right,le.beginPath(),le.moveTo(pe+s.right/2,0-s.top),le.lineTo(pe+s.right/2,fe),le.stroke()),s.bottom>0&&(le.strokeStyle=n.bottom,le.lineWidth=s.bottom,le.beginPath(),le.moveTo(pe+s.right,fe+s.bottom/2),le.lineTo(0,fe+s.bottom/2),le.stroke()),s.left>0&&(le.strokeStyle=n.left,le.lineWidth=s.left,le.beginPath(),le.moveTo(0-s.left/2,fe+s.bottom),le.lineTo(0-s.left/2,0),le.stroke())):(le.lineWidth=s,le.strokeStyle=ne.grid.borderColor,le.strokeRect(-s/2,-s/2,pe+s,fe+s))),le.restore()}function W(){t.each(p(),function(t,e){if(e.show&&0!=e.ticks.length){var i,s,n,o,r,a=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",h="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,c=e.options.font||"flot-tick-label tickLabel";oe.removeText(h);for(var d=0;e.ticks.length>d;++d)i=e.ticks[d],!i.label||i.v<e.min||i.v>e.max||("x"==e.direction?(o="center",s=ue.left+e.p2c(i.v),"bottom"==e.position?n=a.top+a.padding:(n=a.top+a.height-a.padding,r="bottom")):(r="middle",n=ue.top+e.p2c(i.v),"left"==e.position?(s=a.left+a.width-a.padding,o="right"):s=a.left+a.padding),oe.addText(h,s,n,i.label,c,null,o,r))}})}function z(t){t.lines.show&&R(t),t.bars.show&&j(t),t.points.show&&E(t)}function R(t){function e(t,e,i,s,n){var o=t.points,r=t.pointsize,a=null,l=null;le.beginPath();for(var h=r;o.length>h;h+=r){var c=o[h-r],d=o[h-r+1],u=o[h],p=o[h+1];if(null!=c&&null!=u){if(p>=d&&n.min>d){if(n.min>p)continue;c=(n.min-d)/(p-d)*(u-c)+c,d=n.min}else if(d>=p&&n.min>p){if(n.min>d)continue;u=(n.min-d)/(p-d)*(u-c)+c,p=n.min}if(d>=p&&d>n.max){if(p>n.max)continue;c=(n.max-d)/(p-d)*(u-c)+c,d=n.max}else if(p>=d&&p>n.max){if(d>n.max)continue;u=(n.max-d)/(p-d)*(u-c)+c,p=n.max}if(u>=c&&s.min>c){if(s.min>u)continue;d=(s.min-c)/(u-c)*(p-d)+d,c=s.min}else if(c>=u&&s.min>u){if(s.min>c)continue;p=(s.min-c)/(u-c)*(p-d)+d,u=s.min}if(c>=u&&c>s.max){if(u>s.max)continue;d=(s.max-c)/(u-c)*(p-d)+d,c=s.max}else if(u>=c&&u>s.max){if(c>s.max)continue;p=(s.max-c)/(u-c)*(p-d)+d,u=s.max}(c!=a||d!=l)&&le.moveTo(s.p2c(c)+e,n.p2c(d)+i),a=u,l=p,le.lineTo(s.p2c(u)+e,n.p2c(p)+i)}}le.stroke()}function i(t,e,i){for(var s=t.points,n=t.pointsize,o=Math.min(Math.max(0,i.min),i.max),r=0,a=!1,l=1,h=0,c=0;;){if(n>0&&r>s.length+n)break;r+=n;var d=s[r-n],u=s[r-n+l],p=s[r],f=s[r+l];if(a){if(n>0&&null!=d&&null==p){c=r,n=-n,l=2;continue}if(0>n&&r==h+n){le.fill(),a=!1,n=-n,l=1,r=h=c+n;continue}}if(null!=d&&null!=p){if(p>=d&&e.min>d){if(e.min>p)continue;u=(e.min-d)/(p-d)*(f-u)+u,d=e.min}else if(d>=p&&e.min>p){if(e.min>d)continue;f=(e.min-d)/(p-d)*(f-u)+u,p=e.min}if(d>=p&&d>e.max){if(p>e.max)continue;u=(e.max-d)/(p-d)*(f-u)+u,d=e.max}else if(p>=d&&p>e.max){if(d>e.max)continue;f=(e.max-d)/(p-d)*(f-u)+u,p=e.max}if(a||(le.beginPath(),le.moveTo(e.p2c(d),i.p2c(o)),a=!0),u>=i.max&&f>=i.max)le.lineTo(e.p2c(d),i.p2c(i.max)),le.lineTo(e.p2c(p),i.p2c(i.max));else if(i.min>=u&&i.min>=f)le.lineTo(e.p2c(d),i.p2c(i.min)),le.lineTo(e.p2c(p),i.p2c(i.min));else{var g=d,m=p;f>=u&&i.min>u&&f>=i.min?(d=(i.min-u)/(f-u)*(p-d)+d,u=i.min):u>=f&&i.min>f&&u>=i.min&&(p=(i.min-u)/(f-u)*(p-d)+d,f=i.min),u>=f&&u>i.max&&i.max>=f?(d=(i.max-u)/(f-u)*(p-d)+d,u=i.max):f>=u&&f>i.max&&i.max>=u&&(p=(i.max-u)/(f-u)*(p-d)+d,f=i.max),d!=g&&le.lineTo(e.p2c(g),i.p2c(u)),le.lineTo(e.p2c(d),i.p2c(u)),le.lineTo(e.p2c(p),i.p2c(f)),p!=m&&(le.lineTo(e.p2c(p),i.p2c(f)),le.lineTo(e.p2c(m),i.p2c(f)))}}}}le.save(),le.translate(ue.left,ue.top),le.lineJoin="round";var s=t.lines.lineWidth,n=t.shadowSize;if(s>0&&n>0){le.lineWidth=n,le.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;e(t.datapoints,Math.sin(o)*(s/2+n/2),Math.cos(o)*(s/2+n/2),t.xaxis,t.yaxis),le.lineWidth=n/2,e(t.datapoints,Math.sin(o)*(s/2+n/4),Math.cos(o)*(s/2+n/4),t.xaxis,t.yaxis)}le.lineWidth=s,le.strokeStyle=t.color;var r=N(t.lines,t.color,0,fe);r&&(le.fillStyle=r,i(t.datapoints,t.xaxis,t.yaxis)),s>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),le.restore()}function E(t){function e(t,e,i,s,n,o,r,a){for(var l=t.points,h=t.pointsize,c=0;l.length>c;c+=h){var d=l[c],u=l[c+1];null==d||o.min>d||d>o.max||r.min>u||u>r.max||(le.beginPath(),d=o.p2c(d),u=r.p2c(u)+s,"circle"==a?le.arc(d,u,e,0,n?Math.PI:2*Math.PI,!1):a(le,d,u,e,n),le.closePath(),i&&(le.fillStyle=i,le.fill()),le.stroke())}}le.save(),le.translate(ue.left,ue.top);var i=t.points.lineWidth,s=t.shadowSize,n=t.points.radius,o=t.points.symbol;if(0==i&&(i=1e-4),i>0&&s>0){var r=s/2;le.lineWidth=r,le.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,n,null,r+r/2,!0,t.xaxis,t.yaxis,o),le.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,n,null,r/2,!0,t.xaxis,t.yaxis,o)}le.lineWidth=i,le.strokeStyle=t.color,e(t.datapoints,n,N(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),le.restore()}function B(t,e,i,s,n,o,r,a,l,h,c,d){var u,p,f,g,m,v,x,b,y;c?(b=v=x=!0,m=!1,u=i,p=t,g=e+s,f=e+n,u>p&&(y=p,p=u,u=y,m=!0,v=!1)):(m=v=x=!0,b=!1,u=t+s,p=t+n,f=i,g=e,f>g&&(y=g,g=f,f=y,b=!0,x=!1)),a.min>p||u>a.max||l.min>g||f>l.max||(a.min>u&&(u=a.min,m=!1),p>a.max&&(p=a.max,v=!1),l.min>f&&(f=l.min,b=!1),g>l.max&&(g=l.max,x=!1),u=a.p2c(u),f=l.p2c(f),p=a.p2c(p),g=l.p2c(g),r&&(h.beginPath(),h.moveTo(u,f),h.lineTo(u,g),h.lineTo(p,g),h.lineTo(p,f),h.fillStyle=r(f,g),h.fill()),d>0&&(m||v||x||b)&&(h.beginPath(),h.moveTo(u,f+o),m?h.lineTo(u,g+o):h.moveTo(u,g+o),x?h.lineTo(p,g+o):h.moveTo(p,g+o),v?h.lineTo(p,f+o):h.moveTo(p,f+o),b?h.lineTo(u,f+o):h.moveTo(u,f+o),h.stroke()))}function j(t){function e(e,i,s,n,o,r,a){for(var l=e.points,h=e.pointsize,c=0;l.length>c;c+=h)null!=l[c]&&B(l[c],l[c+1],l[c+2],i,s,n,o,r,a,le,t.bars.horizontal,t.bars.lineWidth)}le.save(),le.translate(ue.left,ue.top),le.lineWidth=t.bars.lineWidth,le.strokeStyle=t.color;var i;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;case"center":i=-t.bars.barWidth/2;break;default:throw Error("Invalid bar alignment: "+t.bars.align)}var s=t.bars.fill?function(e,i){return N(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,0,s,t.xaxis,t.yaxis),le.restore()}function N(e,i,s,n){var o=e.fill;if(!o)return null;if(e.fillColor)return ie(e.fillColor,s,n,i);var r=t.color.parse(i);return r.a="number"==typeof o?o:.4,r.normalize(),""+r}function $(){if(i.find(".legend").remove(),ne.legend.show){for(var e,s,n=[],o=[],r=!1,a=ne.legend.labelFormatter,l=0;se.length>l;++l)e=se[l],e.label&&(s=a?a(e.label,e):e.label,s&&o.push({label:s,color:e.color}));if(ne.legend.sorted)if(t.isFunction(ne.legend.sorted))o.sort(ne.legend.sorted);else if("reverse"==ne.legend.sorted)o.reverse();else{var h="descending"!=ne.legend.sorted;o.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=h?1:-1})}for(var l=0;o.length>l;++l){var c=o[l];0==l%ne.legend.noColumns&&(r&&n.push("</tr>"),n.push("<tr>"),r=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+ne.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+c.label+"</td>")}if(r&&n.push("</tr>"),0!=n.length){var d='<table style="font-size:smaller;color:'+ne.grid.color+'">'+n.join("")+"</table>";if(null!=ne.legend.container)t(ne.legend.container).html(d);else{var u="",p=ne.legend.position,f=ne.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?u+="top:"+(f[1]+ue.top)+"px;":"s"==p.charAt(0)&&(u+="bottom:"+(f[1]+ue.bottom)+"px;"),"e"==p.charAt(1)?u+="right:"+(f[0]+ue.right)+"px;":"w"==p.charAt(1)&&(u+="left:"+(f[0]+ue.left)+"px;");var g=t('<div class="legend">'+d.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(i);if(0!=ne.legend.backgroundOpacity){var m=ne.legend.backgroundColor;null==m&&(m=ne.grid.backgroundColor,m=m&&"string"==typeof m?t.color.parse(m):t.color.extract(g,"background-color"),m.a=1,m=""+m);var v=g.children();t('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+u+"background-color:"+m+';"> </div>').prependTo(g).css("opacity",ne.legend.backgroundOpacity)}}}}}function Y(t,e,i){var s,n,o,r=ne.grid.mouseActiveRadius,a=r*r+1,l=null;for(s=se.length-1;s>=0;--s)if(i(se[s])){var h=se[s],c=h.xaxis,d=h.yaxis,u=h.datapoints.points,p=c.c2p(t),f=d.c2p(e),g=r/c.scale,m=r/d.scale;if(o=h.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),d.options.inverseTransform&&(m=Number.MAX_VALUE),h.lines.show||h.points.show)for(n=0;u.length>n;n+=o){var v=u[n],x=u[n+1];if(null!=v&&!(v-p>g||-g>v-p||x-f>m||-m>x-f)){var b=Math.abs(c.p2c(v)-t),y=Math.abs(d.p2c(x)-e),k=b*b+y*y;a>k&&(a=k,l=[s,n/o])}}if(h.bars.show&&!l){var w="left"==h.bars.align?0:-h.bars.barWidth/2,_=w+h.bars.barWidth;for(n=0;u.length>n;n+=o){var v=u[n],x=u[n+1],C=u[n+2];null!=v&&(se[s].bars.horizontal?Math.max(C,v)>=p&&p>=Math.min(C,v)&&f>=x+w&&x+_>=f:p>=v+w&&v+_>=p&&f>=Math.min(C,x)&&Math.max(C,x)>=f)&&(l=[s,n/o])}}}return l?(s=l[0],n=l[1],o=se[s].datapoints.pointsize,{datapoint:se[s].datapoints.points.slice(n*o,(n+1)*o),dataIndex:n,series:se[s],seriesIndex:s}):null}function X(t){ne.grid.hoverable&&Q("plothover",t,function(t){return 0!=t.hoverable})}function K(t){ne.grid.hoverable&&Q("plothover",t,function(){return!1})}function V(t){Q("plotclick",t,function(t){return 0!=t.clickable})}function Q(t,e,s){var n=ae.offset(),o=e.pageX-n.left-ue.left,r=e.pageY-n.top-ue.top,a=f({left:o,top:r});a.pageX=e.pageX,a.pageY=e.pageY;var l=Y(o,r,s);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+ue.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+ue.top,10)),ne.grid.autoHighlight){for(var h=0;ve.length>h;++h){var c=ve[h];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||J(c.series,c.point)}l&&U(l.series,l.datapoint,t)}i.trigger(t,[a,l])}function q(){var t=ne.interaction.redrawOverlayInterval;return-1==t?(G(),void 0):(xe||(xe=setTimeout(G,t)),void 0)}function G(){xe=null,he.save(),re.clear(),he.translate(ue.left,ue.top);var t,e;for(t=0;ve.length>t;++t)e=ve[t],e.series.bars.show?ee(e.series,e.point):te(e.series,e.point);he.restore(),a(ge.drawOverlay,[he])}function U(t,e,i){if("number"==typeof t&&(t=se[t]),"number"==typeof e){var s=t.datapoints.pointsize;e=t.datapoints.points.slice(s*e,s*(e+1))}var n=Z(t,e);-1==n?(ve.push({series:t,point:e,auto:i}),q()):i||(ve[n].auto=!1)}function J(t,e){if(null==t&&null==e)return ve=[],q(),void 0;if("number"==typeof t&&(t=se[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var s=Z(t,e);-1!=s&&(ve.splice(s,1),q())}function Z(t,e){for(var i=0;ve.length>i;++i){var s=ve[i];if(s.series==t&&s.point[0]==e[0]&&s.point[1]==e[1])return i}return-1}function te(e,i){var s=i[0],n=i[1],o=e.xaxis,r=e.yaxis,a="string"==typeof e.highlightColor?e.highlightColor:""+t.color.parse(e.color).scale("a",.5);if(!(o.min>s||s>o.max||r.min>n||n>r.max)){var l=e.points.radius+e.points.lineWidth/2;he.lineWidth=l,he.strokeStyle=a;var h=1.5*l;s=o.p2c(s),n=r.p2c(n),he.beginPath(),"circle"==e.points.symbol?he.arc(s,n,h,0,2*Math.PI,!1):e.points.symbol(he,s,n,h,!1),he.closePath(),he.stroke()}}function ee(e,i){var s="string"==typeof e.highlightColor?e.highlightColor:""+t.color.parse(e.color).scale("a",.5),n=s,o="left"==e.bars.align?0:-e.bars.barWidth/2;he.lineWidth=e.bars.lineWidth,he.strokeStyle=s,B(i[0],i[1],i[2]||0,o,o+e.bars.barWidth,0,function(){return n},e.xaxis,e.yaxis,he,e.bars.horizontal,e.bars.lineWidth)}function ie(e,i,s,n){if("string"==typeof e)return e;for(var o=le.createLinearGradient(0,s,0,i),r=0,a=e.colors.length;a>r;++r){var l=e.colors[r];if("string"!=typeof l){var h=t.color.parse(n);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=""+h}o.addColorStop(r/(a-1),l)}return o}var se=[],ne={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},oe=null,re=null,ae=null,le=null,he=null,ce=[],de=[],ue={left:0,right:0,top:0,bottom:0},pe=0,fe=0,ge={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},me=this;me.setData=c,me.setupGrid=M,me.draw=D,me.getPlaceholder=function(){return i},me.getCanvas=function(){return oe.element
},me.getPlotOffset=function(){return ue},me.width=function(){return pe},me.height=function(){return fe},me.offset=function(){var t=ae.offset();return t.left+=ue.left,t.top+=ue.top,t},me.getData=function(){return se},me.getAxes=function(){var e={};return t.each(ce.concat(de),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},me.getXAxes=function(){return ce},me.getYAxes=function(){return de},me.c2p=f,me.p2c=g,me.getOptions=function(){return ne},me.highlight=U,me.unhighlight=J,me.triggerRedrawOverlay=q,me.pointOffset=function(t){return{left:parseInt(ce[u(t,"x")-1].p2c(+t.x)+ue.left,10),top:parseInt(de[u(t,"y")-1].p2c(+t.y)+ue.top,10)}},me.shutdown=k,me.resize=function(){var t=i.width(),e=i.height();oe.resize(t,e),re.resize(t,e)},me.hooks=ge,l(me),h(o),b(),c(n),M(),D(),y();var ve=[],xe=null}function s(t,e){return e*Math.floor(t/e)}var n=Object.prototype.hasOwnProperty;e.prototype.resize=function(t,e){if(0>=t||0>=e)throw Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,s=this.context,n=this.pixelRatio;this.width!=t&&(i.width=t*n,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*n,i.style.height=e+"px",this.height=e),s.restore(),s.save(),s.scale(n,n)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(n.call(t,e)){var i=this.getTextLayer(e),s=t[e];i.hide();for(var o in s)if(n.call(s,o)){var r=s[o];for(var a in r)if(n.call(r,a)){var l=r[a];l.active?l.rendered||(i.append(l.element),l.rendered=!0):(delete r[a],l.rendered&&l.element.detach())}}i.show()}},e.prototype.getTextLayer=function(e){var i=this.text[e];return null==i&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},e.prototype.getTextInfo=function(e,i,s){var n,o,r,a;if(i=""+i,n="object"==typeof s?s.style+" "+s.variant+" "+s.weight+" "+s.size+"px/"+s.lineHeight+"px "+s.family:s,o=this._textCache[e],null==o&&(o=this._textCache[e]={}),r=o[n],null==r&&(r=o[n]={}),a=r[i],null==a){var l=t("<div></div>").html(i).css({position:"absolute",top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof s?l.css({font:n,color:s.color}):"string"==typeof s&&l.addClass(s),a=r[i]={active:!1,rendered:!1,element:l,width:l.outerWidth(!0),height:l.outerHeight(!0)},l.detach()}return a},e.prototype.addText=function(t,e,i,s,n,o,r,a){var l=this.getTextInfo(t,s,n,o);l.active=!0,"center"==r?e-=l.width/2:"right"==r&&(e-=l.width),"middle"==a?i-=l.height/2:"bottom"==a&&(i-=l.height),l.element.css({top:Math.round(i),left:Math.round(e)})},e.prototype.removeText=function(t,e,i,s){if(null==e){var o=this._textCache[t];if(null!=o)for(var r in o)if(n.call(o,r)){var a=o[r];for(var l in a)n.call(a,l)&&(a[l].active=!1)}}else this.getTextInfo(t,e,i,s).active=!1},t.plot=function(e,s,n){var o=new i(t(e),s,n,t.plot.plugins);return o},t.plot.version="0.8.0",t.plot.plugins=[],t.fn.plot=function(e,i){return this.each(function(){t.plot(this,e,i)})}}(jQuery),function(t){function e(e){function i(t){f.active&&(h(t),e.getPlaceholder().trigger("plotselecting",[o()]))}function s(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==g.onselectstart&&(g.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==g.ondrag&&(g.ondrag=document.ondrag,document.ondrag=function(){return!1}),l(f.first,e),f.active=!0,m=function(t){n(t)},t(document).one("mouseup",m))}function n(t){return m=null,void 0!==document.onselectstart&&(document.onselectstart=g.onselectstart),void 0!==document.ondrag&&(document.ondrag=g.ondrag),f.active=!1,h(t),p()?r():(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),!1}function o(){if(!p())return null;if(!f.show)return null;var i={},s=f.first,n=f.second;return t.each(e.getAxes(),function(t,e){if(e.used){var o=e.c2p(s[e.direction]),r=e.c2p(n[e.direction]);i[t]={from:Math.min(o,r),to:Math.max(o,r)}}}),i}function r(){var t=o();e.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&e.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function a(t,e,i){return t>e?t:e>i?i:e}function l(t,i){var s=e.getOptions(),n=e.getPlaceholder().offset(),o=e.getPlotOffset();t.x=a(0,i.pageX-n.left-o.left,e.width()),t.y=a(0,i.pageY-n.top-o.top,e.height()),"y"==s.selection.mode&&(t.x=t==f.first?0:e.width()),"x"==s.selection.mode&&(t.y=t==f.first?0:e.height())}function h(t){null!=t.pageX&&(l(f.second,t),p()?(f.show=!0,e.triggerRedrawOverlay()):c(!0))}function c(t){f.show&&(f.show=!1,e.triggerRedrawOverlay(),t||e.getPlaceholder().trigger("plotunselected",[]))}function d(t,i){var s,n,o,r,a=e.getAxes();for(var l in a)if(s=a[l],s.direction==i&&(r=i+s.n+"axis",t[r]||1!=s.n||(r=i+"axis"),t[r])){n=t[r].from,o=t[r].to;break}if(t[r]||(s="x"==i?e.getXAxes()[0]:e.getYAxes()[0],n=t[i+"1"],o=t[i+"2"]),null!=n&&null!=o&&n>o){var h=n;n=o,o=h}return{from:n,to:o,axis:s}}function u(t,i){var s,n=e.getOptions();"y"==n.selection.mode?(f.first.x=0,f.second.x=e.width()):(s=d(t,"x"),f.first.x=s.axis.p2c(s.from),f.second.x=s.axis.p2c(s.to)),"x"==n.selection.mode?(f.first.y=0,f.second.y=e.height()):(s=d(t,"y"),f.first.y=s.axis.p2c(s.from),f.second.y=s.axis.p2c(s.to)),f.show=!0,e.triggerRedrawOverlay(),!i&&p()&&r()}function p(){var t=e.getOptions().selection.minSize;return Math.abs(f.second.x-f.first.x)>=t&&Math.abs(f.second.y-f.first.y)>=t}var f={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},g={},m=null;e.clearSelection=c,e.setSelection=u,e.getSelection=o,e.hooks.bindEvents.push(function(t,e){var n=t.getOptions();null!=n.selection.mode&&(e.mousemove(i),e.mousedown(s))}),e.hooks.drawOverlay.push(function(e,i){if(f.show&&p()){var s=e.getPlotOffset(),n=e.getOptions();i.save(),i.translate(s.left,s.top);var o=t.color.parse(n.selection.color);i.strokeStyle=""+o.scale("a",.8),i.lineWidth=1,i.lineJoin=n.selection.shape,i.fillStyle=""+o.scale("a",.4);var r=Math.min(f.first.x,f.second.x)+.5,a=Math.min(f.first.y,f.second.y)+.5,l=Math.abs(f.second.x-f.first.x)-1,h=Math.abs(f.second.y-f.first.y)-1;i.fillRect(r,a,l,h),i.strokeRect(r,a,l,h),i.restore()}}),e.hooks.shutdown.push(function(e,n){n.unbind("mousemove",i),n.unbind("mousedown",s),m&&t(document).unbind("mouseup",m)})}t.plot.plugins.push({init:e,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(t){function e(e){function o(e){_||(_=!0,x=e.getCanvas(),b=t(x).parent(),n=e.getOptions(),e.setData(r(e.getData())))}function r(e){for(var i=0,s=0,o=0,r=n.series.pie.combine.color,a=[],l=0;e.length>l;++l){var h=e[l].data;t.isArray(h)?h[1]=t.isNumeric(h[1])?+h[1]:0:h=t.isNumeric(h)?[1,+h]:[1,0],e[l].data=[h]}for(var l=0;e.length>l;++l)i+=e[l].data[0][1];for(var l=0;e.length>l;++l){var h=e[l].data[0][1];n.series.pie.combine.threshold>=h/i&&(s+=h,o++,r||(r=e[l].color))}for(var l=0;e.length>l;++l){var h=e[l].data[0][1];(2>o||h/i>n.series.pie.combine.threshold)&&a.push({data:[[1,h]],color:e[l].color,label:e[l].label,angle:2*h*Math.PI/i,percent:h/(i/100)})}return o>1&&a.push({data:[[1,s]],color:r,label:n.series.pie.combine.label,angle:2*s*Math.PI/i,percent:s/(i/100)}),a}function a(e,o){function r(){C.clearRect(0,0,c,d),b.children().filter(".pieLabel, .pieLabelBackground").remove()}function a(){var t=n.series.pie.shadow.left,e=n.series.pie.shadow.top,i=10,s=n.series.pie.shadow.alpha,o=n.series.pie.radius>1?n.series.pie.radius:y*n.series.pie.radius;if(!(o>=c/2-t||o*n.series.pie.tilt>=d/2-e||i>=o)){C.save(),C.translate(t,e),C.globalAlpha=s,C.fillStyle="#000",C.translate(k,w),C.scale(1,n.series.pie.tilt);for(var r=1;i>=r;r++)C.beginPath(),C.arc(0,0,o,0,2*Math.PI,!1),C.fill(),o-=r;C.restore()}}function h(){function e(t,e,i){0>=t||isNaN(t)||(i?C.fillStyle=e:(C.strokeStyle=e,C.lineJoin="round"),C.beginPath(),Math.abs(t-2*Math.PI)>1e-9&&C.moveTo(0,0),C.arc(0,0,o,r,r+t/2,!1),C.arc(0,0,o,r+t/2,r+t,!1),C.closePath(),r+=t,i?C.fill():C.stroke())}function i(){function e(e,i,s){if(0==e.data[0][1])return!0;var r,a=n.legend.labelFormatter,l=n.series.pie.label.formatter;r=a?a(e.label,e):e.label,l&&(r=l(r,e));var h=(i+e.angle+i)/2,u=k+Math.round(Math.cos(h)*o),p=w+Math.round(Math.sin(h)*o)*n.series.pie.tilt,f="<span class='pieLabel' id='pieLabel"+s+"' style='position:absolute;top:"+p+"px;left:"+u+"px;'>"+r+"</span>";b.append(f);var g=b.children("#pieLabel"+s),m=p-g.height()/2,v=u-g.width()/2;if(g.css("top",m),g.css("left",v),0-m>0||0-v>0||0>d-(m+g.height())||0>c-(v+g.width()))return!1;if(0!=n.series.pie.label.background.opacity){var x=n.series.pie.label.background.color;null==x&&(x=e.color);var y="top:"+m+"px;left:"+v+"px;";t("<div class='pieLabelBackground' style='position:absolute;width:"+g.width()+"px;height:"+g.height()+"px;"+y+"background-color:"+x+";'></div>").css("opacity",n.series.pie.label.background.opacity).insertBefore(g)}return!0}for(var i=s,o=n.series.pie.label.radius>1?n.series.pie.label.radius:y*n.series.pie.label.radius,r=0;p.length>r;++r){if(p[r].percent>=100*n.series.pie.label.threshold&&!e(p[r],i,r))return!1;i+=p[r].angle}return!0}var s=Math.PI*n.series.pie.startAngle,o=n.series.pie.radius>1?n.series.pie.radius:y*n.series.pie.radius;C.save(),C.translate(k,w),C.scale(1,n.series.pie.tilt),C.save();for(var r=s,a=0;p.length>a;++a)p[a].startAngle=r,e(p[a].angle,p[a].color,!0);if(C.restore(),n.series.pie.stroke.width>0){C.save(),C.lineWidth=n.series.pie.stroke.width,r=s;for(var a=0;p.length>a;++a)e(p[a].angle,n.series.pie.stroke.color,!1);C.restore()}return l(C),C.restore(),n.series.pie.label.show?i():!0}if(b){var c=e.getPlaceholder().width(),d=e.getPlaceholder().height(),u=b.children().filter(".legend").children().width()||0;C=o,_=!1,y=Math.min(c,d/n.series.pie.tilt)/2,w=d/2+n.series.pie.offset.top,k=c/2,"auto"==n.series.pie.offset.left?n.legend.position.match("w")?k+=u/2:k-=u/2:k+=n.series.pie.offset.left,y>k?k=y:k>c-y&&(k=c-y);var p=e.getData(),f=0;do f>0&&(y*=s),f+=1,r(),.8>=n.series.pie.tilt&&a();while(!h()&&i>f);f>=i&&(r(),b.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),e.setSeries&&e.insertLegend&&(e.setSeries(p),e.insertLegend())}}function l(t){if(n.series.pie.innerRadius>0){t.save();var e=n.series.pie.innerRadius>1?n.series.pie.innerRadius:y*n.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=n.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=n.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function h(t,e){for(var i=!1,s=-1,n=t.length,o=n-1;n>++s;o=s)(t[s][1]<=e[1]&&e[1]<t[o][1]||t[o][1]<=e[1]&&e[1]<t[s][1])&&e[0]<(t[o][0]-t[s][0])*(e[1]-t[s][1])/(t[o][1]-t[s][1])+t[s][0]&&(i=!i);return i}function c(t,i){for(var s,n,o=e.getData(),r=e.getOptions(),a=r.series.pie.radius>1?r.series.pie.radius:y*r.series.pie.radius,l=0;o.length>l;++l){var c=o[l];if(c.pie.show){if(C.save(),C.beginPath(),C.moveTo(0,0),C.arc(0,0,a,c.startAngle,c.startAngle+c.angle/2,!1),C.arc(0,0,a,c.startAngle+c.angle/2,c.startAngle+c.angle,!1),C.closePath(),s=t-k,n=i-w,C.isPointInPath){if(C.isPointInPath(t-k,i-w))return C.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:l}}else{var d=a*Math.cos(c.startAngle),u=a*Math.sin(c.startAngle),p=a*Math.cos(c.startAngle+c.angle/4),f=a*Math.sin(c.startAngle+c.angle/4),g=a*Math.cos(c.startAngle+c.angle/2),m=a*Math.sin(c.startAngle+c.angle/2),v=a*Math.cos(c.startAngle+c.angle/1.5),x=a*Math.sin(c.startAngle+c.angle/1.5),b=a*Math.cos(c.startAngle+c.angle),_=a*Math.sin(c.startAngle+c.angle),L=[[0,0],[d,u],[p,f],[g,m],[v,x],[b,_]],T=[s,n];if(h(L,T))return C.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:l}}C.restore()}}return null}function d(t){p("plothover",t)}function u(t){p("plotclick",t)}function p(t,i){var s=e.offset(),o=parseInt(i.pageX-s.left),r=parseInt(i.pageY-s.top),a=c(o,r);if(n.grid.autoHighlight)for(var l=0;L.length>l;++l){var h=L[l];h.auto!=t||a&&h.series==a.series||g(h.series)}a&&f(a.series,t);var d={pageX:i.pageX,pageY:i.pageY};b.trigger(t,[d,a])}function f(t,i){var s=m(t);-1==s?(L.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(L[s].auto=!1)}function g(t){null==t&&(L=[],e.triggerRedrawOverlay());var i=m(t);-1!=i&&(L.splice(i,1),e.triggerRedrawOverlay())}function m(t){for(var e=0;L.length>e;++e){var i=L[e];if(i.series==t)return e}return-1}function v(t,e){function i(t){0>=t.angle||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+s.series.pie.highlight.opacity+")",e.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&e.moveTo(0,0),e.arc(0,0,n,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,n,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var s=t.getOptions(),n=s.series.pie.radius>1?s.series.pie.radius:y*s.series.pie.radius;e.save(),e.translate(k,w),e.scale(1,s.series.pie.tilt);for(var o=0;L.length>o;++o)i(L[o].series);l(e),e.restore()}var x=null,b=null,y=null,k=null,w=null,_=!1,C=null,L=[];e.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.series.pie.label.show=e.legend.show?!1:!0),"auto"==e.series.pie.radius&&(e.series.pie.radius=e.series.pie.label.show?.75:1),e.series.pie.tilt>1?e.series.pie.tilt=1:0>e.series.pie.tilt&&(e.series.pie.tilt=0))}),e.hooks.bindEvents.push(function(t,e){var i=t.getOptions();i.series.pie.show&&(i.grid.hoverable&&e.unbind("mousemove").mousemove(d),i.grid.clickable&&e.unbind("click").click(u))}),e.hooks.processDatapoints.push(function(t,e,i,s){var n=t.getOptions();n.series.pie.show&&o(t,e,i,s)}),e.hooks.drawOverlay.push(function(t,e){var i=t.getOptions();i.series.pie.show&&v(t,e)}),e.hooks.draw.push(function(t,e){var i=t.getOptions();i.series.pie.show&&a(t,e)})}var i=10,s=.95,n={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+e.color+";'>"+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};t.plot.plugins.push({init:e,options:n,name:"pie",version:"1.1"})}(jQuery),function(t){function e(t,e,i,s){var n="categories"==e.xaxis.options.mode,o="categories"==e.yaxis.options.mode;if(n||o){var r=s.format;if(!r){var a=e;if(r=[],r.push({x:!0,number:!0,required:!0}),r.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var l=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);r.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:l}),a.bars.horizontal&&(delete r[r.length-1].y,r[r.length-1].x=!0)}s.format=r}for(var h=0;r.length>h;++h)r[h].x&&n&&(r[h].number=!1),r[h].y&&o&&(r[h].number=!1)}}function i(t){var e=-1;for(var i in t)t[i]>e&&(e=t[i]);return e+1}function s(t){var e=[];for(var i in t.categories){var s=t.categories[i];s>=t.min&&t.max>=s&&e.push([s,i])}return e.sort(function(t,e){return t[0]-e[0]}),e}function n(e,i,n){if("categories"==e[i].options.mode){if(!e[i].categories){var r={},a=e[i].options.categories||{};if(t.isArray(a))for(var l=0;a.length>l;++l)r[a[l]]=l;else for(var h in a)r[h]=a[h];e[i].categories=r}e[i].options.ticks||(e[i].options.ticks=s),o(n,i,e[i].categories)}}function o(t,e,s){for(var n=t.points,o=t.pointsize,r=t.format,a=e.charAt(0),l=i(s),h=0;n.length>h;h+=o)if(null!=n[h])for(var c=0;o>c;++c){var d=n[h+c];null!=d&&r[c][a]&&(d in s||(s[d]=l,++l),n[h+c]=s[d])}}function r(t,e,i){n(e,"xaxis",i),n(e,"yaxis",i)}function a(t){t.hooks.processRawData.push(e),t.hooks.processDatapoints.push(r)}var l={xaxis:{categories:null},yaxis:{categories:null}};t.plot.plugins.push({init:a,options:l,name:"categories",version:"1.0"})}(jQuery),function(t){function e(t,e){var i={square:function(t,e,i,s){var n=s*Math.sqrt(Math.PI)/2;t.rect(e-n,i-n,n+n,n+n)},diamond:function(t,e,i,s){var n=s*Math.sqrt(Math.PI/2);t.moveTo(e-n,i),t.lineTo(e,i-n),t.lineTo(e+n,i),t.lineTo(e,i+n),t.lineTo(e-n,i)},triangle:function(t,e,i,s,n){var o=s*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),r=o*Math.sin(Math.PI/3);t.moveTo(e-o/2,i+r/2),t.lineTo(e+o/2,i+r/2),n||(t.lineTo(e,i-r/2),t.lineTo(e-o/2,i+r/2))},cross:function(t,e,i,s){var n=s*Math.sqrt(Math.PI)/2;t.moveTo(e-n,i-n),t.lineTo(e+n,i+n),t.moveTo(e-n,i+n),t.lineTo(e+n,i-n)}},s=e.points.symbol;i[s]&&(e.points.symbol=i[s])}function i(t){t.hooks.processDatapoints.push(e)}t.plot.plugins.push({init:i,name:"symbols",version:"1.0"})}(jQuery),function(t){var e={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},i=function(t){this.tipPosition={x:0,y:0},this.init(t)};i.prototype.init=function(e){function i(t){var e={};e.x=t.pageX,e.y=t.pageY,n.updateTooltipPosition(e)}function s(t,e,i){var s=n.getDomElement();if(i){var o;o=n.stringFormat(n.tooltipOptions.content,i),s.html(o),n.updateTooltipPosition({x:e.pageX,y:e.pageY}),s.css({left:n.tipPosition.x+n.tooltipOptions.shifts.x,top:n.tipPosition.y+n.tooltipOptions.shifts.y}).show(),"function"==typeof n.tooltipOptions.onHover&&n.tooltipOptions.onHover(i,s)}else s.hide().html("")}var n=this;e.hooks.bindEvents.push(function(e,o){n.plotOptions=e.getOptions(),n.plotOptions.tooltip!==!1&&void 0!==n.plotOptions.tooltip&&(n.tooltipOptions=n.plotOptions.tooltipOpts,n.getDomElement(),t(e.getPlaceholder()).bind("plothover",s),t(o).bind("mousemove",i))}),e.hooks.shutdown.push(function(e,n){t(e.getPlaceholder()).unbind("plothover",s),t(n).unbind("mousemove",i)})},i.prototype.getDomElement=function(){var e;return t("#flotTip").length>0?e=t("#flotTip"):(e=t("<div />").attr("id","flotTip"),e.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&e.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),e},i.prototype.updateTooltipPosition=function(e){var i=t("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,s=t("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;e.x-t(window).scrollLeft()>t(window).innerWidth()-i&&(e.x-=i),e.y-t(window).scrollTop()>t(window).innerHeight()-s&&(e.y-=s),this.tipPosition.x=e.x,this.tipPosition.y=e.y},i.prototype.stringFormat=function(t,e){var i=/%p\.{0,1}(\d{0,})/,s=/%s/,n=/%x\.{0,1}(\d{0,})/,o=/%y\.{0,1}(\d{0,})/,r="%x",a="%y",l=e.series.data[e.dataIndex][0],h=e.series.data[e.dataIndex][1];return"function"==typeof t&&(t=t(e.series.label,l,h,e)),e.series.percent!==void 0&&(t=this.adjustValPrecision(i,t,e.series.percent)),t=e.series.label!==void 0?t.replace(s,e.series.label):t.replace(s,""),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(n,this.timestampToDate(l,this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(o,this.timestampToDate(h,this.tooltipOptions.yDateFormat))),"number"==typeof l&&(t=this.adjustValPrecision(n,t,l)),"number"==typeof h&&(t=this.adjustValPrecision(o,t,h)),e.series.xaxis.ticks!==void 0&&e.series.xaxis.ticks.length>e.dataIndex&&!this.isTimeMode("xaxis",e)&&(t=t.replace(n,e.series.xaxis.ticks[e.dataIndex].label)),e.series.xaxis.tickFormatter!==void 0&&(t=t.replace(r,e.series.xaxis.tickFormatter(l,e.series.xaxis).replace(/\$/g,"$$"))),e.series.yaxis.tickFormatter!==void 0&&(t=t.replace(a,e.series.yaxis.tickFormatter(h,e.series.yaxis).replace(/\$/g,"$$"))),t},i.prototype.isTimeMode=function(t,e){return e.series[t].options.mode!==void 0&&"time"===e.series[t].options.mode},i.prototype.isXDateFormat=function(){return this.tooltipOptions.xDateFormat!==void 0&&null!==this.tooltipOptions.xDateFormat},i.prototype.isYDateFormat=function(){return this.tooltipOptions.yDateFormat!==void 0&&null!==this.tooltipOptions.yDateFormat},i.prototype.timestampToDate=function(e,i){var s=new Date(1*e);return t.plot.formatDate(s,i,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},i.prototype.adjustValPrecision=function(t,e,i){var s,n=e.match(t);return null!==n&&""!==RegExp.$1&&(s=RegExp.$1,i=i.toFixed(s),e=e.replace(t,i)),e};var s=function(t){new i(t)};t.plot.plugins.push({init:s,options:e,name:"tooltip",version:"0.6.1"})}(jQuery),function(t){function e(t){function e(t,e,n){var r=null;if(i(e)&&(h(e),s(t),o(t),l(e),m>=2)){var a=c(e),v=0,b=d();k[e.bars.order]===void 0&&(k[e.bars.order]=u(a)?-1*p(g,a-1,Math.floor(m/2)-1)-b:p(g,Math.ceil(m/2),a-2)+b+2*x),v=k[e.bars.order],r=f(n,e,v),n.points=r}return r}function i(t){return null!=t.bars&&t.bars.show&&null!=t.bars.order}function s(t){var e=y?t.getPlaceholder().innerHeight():t.getPlaceholder().innerWidth(),i=y?n(t.getData(),1):n(t.getData(),0),s=i[1]-i[0];b=s/e}function n(t,e){for(var i=[],s=0;t.length>s;s++)i[0]=t[s].data[0][e],i[1]=t[s].data[t[s].data.length-1][e];return i}function o(t){g=r(t.getData()),m=g.length}function r(t){for(var e=[],i=[],s=0;t.length>s;s++)null!=t[s].bars.order&&t[s].bars.show&&0>i.indexOf(t[s].bars.order)&&(i.push(t[s].bars.order),e.push(t[s]));return e.sort(a)}function a(t,e){var i=t.bars.order,s=e.bars.order;return s>i?-1:i>s?1:0}function l(t){v=t.bars.lineWidth!==void 0?t.bars.lineWidth:2,x=v*b}function h(t){t.bars.horizontal&&(y=!0)}function c(t){for(var e=0,i=0;g.length>i;++i)if(t==g[i]){e=i;break}return e+1}function d(){var t=0;return 0!=m%2&&(t=g[Math.ceil(m/2)].bars.barWidth/2),t}function u(t){return Math.ceil(m/2)>=t}function p(t,e,i){for(var s=0,n=e;i>=n;n++)s+=t[n].bars.barWidth+2*x;return s}function f(t,e,i){for(var s=t.pointsize,n=t.points,o=0,r=y?1:0;n.length>r;r+=s)n[r]+=i,e.data[o][3]=n[r],o++;return n}var g,m,v,x,b=1,y=!1,k={};t.hooks.processDatapoints.push(e)}var i={series:{bars:{order:null}}};t.plot.plugins.push({init:e,options:i,name:"orderBars",version:"0.2"})}(jQuery),function(t,e,i){function s(){n=e[a](function(){o.each(function(){var e=t(this),i=e.width(),s=e.height(),n=t.data(this,h);(i!==n.w||s!==n.h)&&e.trigger(l,[n.w=i,n.h=s])}),s()},r[c])}var n,o=t([]),r=t.resize=t.extend(t.resize,{}),a="setTimeout",l="resize",h=l+"-special-event",c="delay",d="throttleWindow";r[c]=250,r[d]=!0,t.event.special[l]={setup:function(){if(!r[d]&&this[a])return!1;var e=t(this);o=o.add(e),t.data(this,h,{w:e.width(),h:e.height()}),1===o.length&&s()},teardown:function(){if(!r[d]&&this[a])return!1;var e=t(this);o=o.not(e),e.removeData(h),o.length||clearTimeout(n)},add:function(e){function s(e,s,o){var r=t(this),a=t.data(this,h);a.w=s!==i?s:r.width(),a.h=o!==i?o:r.height(),n.apply(this,arguments)}if(!r[d]&&this[a])return!1;var n;return t.isFunction(e)?(n=e,s):(n=e.handler,e.handler=s,void 0)}}}(jQuery,this),function(t){function e(t){function e(){var e=t.getPlaceholder();0!=e.width()&&0!=e.height()&&(t.resize(),t.setupGrid(),t.draw())}function i(t){t.getPlaceholder().resize(e)}function s(t){t.getPlaceholder().unbind("resize",e)}t.hooks.bindEvents.push(i),t.hooks.shutdown.push(s)}var i={};t.plot.plugins.push({init:e,options:i,name:"resize",version:"1.0"})}(jQuery),function(t){function e(){var t={};return{get:function(e){return t[e]},put:function(e,i){t[e]=i}}}function i(t){return t&&this.options.minLength>0&&this.options.minLength<t.length?t.substring(0,this.options.minLength):t}function s(t){return t instanceof HTMLElement||"string"==typeof t}var n={list:0,table:1};t.widget("rich.autocomplete",t.ui.autocomplete,{LAYOUT:n,options:{delay:0,token:"",showButton:!1,autoFocus:!1,autoFill:!1,source:[],minLength:0,cached:!1,cacheImplemenation:e,cachePrefixExtract:i,filter:t.ui.autocomplete.filter,update:null,layout:n.list},_create:function(){var e=this;this.input=this.element,this.callbacks={},this.root=this._initDom(),this._super(),this.options.cached&&(this.cache=new this.options.cacheImplemenation),this.input.keydown(function(t){e.lastKeyupEvent=t}),this._setOptions({source:this.options.source}),t.each(this._handlers,function(i,s){e.input.on("autocomplete"+i,t.proxy(s,e))})},_destroy:function(){this._destroyDom(),this._super()},_setOption:function(t,e){"disabled"===t&&(e?this._disable():this._enable()),"source"===t&&s(e)&&this._updateDomSuggestions(),this._super(t,e),"layout"===t&&this._initLayout()},_initDom:function(){if(this.root=t(t('<div class="r-autocomplete"></div>').insertBefore(this.input)[0]),this.root.append(this.input.detach()),this.options.showButton){var e=this;this.root.addClass("input-group"),this.button=t('<span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-angle-down"></button></i></span>').appendTo(this.root).find("button"),this.buttonClickHandler=function(){e.input.autocomplete("search"),e.input.focus()},this.button.on("click",this.buttonClickHandler)}return this.root},_destroyDom:function(){this.input.detach().insertAfter(this.root),this.root.remove()},_enable:function(){this.button&&this.button.removeAttr("disabled")},_disable:function(){this.button&&this.button.attr("disabled","disabled")},_initSource:function(){this.source=this._getSuggestions},_renderMenu:function(t){return this.options.layout===this.LAYOUT.table&&t.addClass("ui-autocomplete-layout-table"),this._superApply(arguments)},_renderItem:function(e,i){switch(this.options.layout){case this.LAYOUT.list:var s=i.dom?t("<a>").html(i.dom.html()):t("<a>").text(i.label);return t("<li>").append(s).appendTo(e);case this.LAYOUT.table:var n=t("<a>");return i.dom.find("td").each(function(){t("<span>").html(t(this).html()).appendTo(n)}),t("<li></li>").data("item.autocomplete",i).append(n).appendTo(e)}},_initLayout:function(){this.options.layout===this.LAYOUT.table&&this._setOption("appendTo",t('<div class="ui-autocomplete-layout-table-wrapper">').appendTo(t("body")))},_handlers:{search:function(){return this.options.autoFill&&this.entered===this.input.val()?!1:(this.entered=this.input.val(),this.button&&(this.button.off("click",this.buttonClickHandler),this.button.find("i").removeClass("fa-angle-down"),this.button.find("i").addClass("fa-angle-up")),void 0)},focus:function(t,e){if(!this.options.autoFill)return!1;if(8===this.lastKeyupEvent.keyCode)return!1;var i=this.input,s=this.entered,n=e.item.label;s=s.substring(0,i[0].selectionStart);var o=this._extractSearchTerm(s),r=s.substring(0,s.length-o.length);return o.length>0&&0===n.toLowerCase().indexOf(o.toLowerCase())?(i.val(s+n.substring(o.length)),i[0].selectionStart=s.length,i[0].selectionEnd=r.length+n.length,!1):(i.val(s),!1)},close:function(){this.button&&(this.button.find("i").removeClass("fa-angle-up"),this.button.find("i").addClass("fa-angle-down"),setTimeout(t.proxy(function(){this.button.on("click",this.buttonClickHandler)},this),150)),t(document).click()},select:function(t,e){return this.value=this._selectValue(t,e,this.input.val()),this.input.val(this.value),!1}},_selectValue:function(t,e,i){if(this.options.token){var s=this._splitTokens(i);return s.pop(),s.push(e.item.value),s.join(this.options.token+" ")}return e.item.value},_extractSearchTerm:function(t){return this.options.token?this._extractLastToken(t):t},_extractLastToken:function(t){return this._splitTokens(t).pop()},_splitTokens:function(t){var e=RegExp("\\s*"+this.options.token+"\\s*");return t.split(e)},_getSuggestions:function(e,i){var s=this._extractSearchTerm(e.term);if("string"===t.type(s)&&s.length<this.options.minLength)return!1;var n=t.extend({},e,{term:s});this.cache?this._getCachedSuggestions(n,i):this._retrieveSuggestions(n,i)},_getCachedSuggestions:function(e,i){var s=this.options.cachePrefixExtract.call(this,e.term),n=this.cache.get(s);if(n)return i.call(window,this.options.filter(n,e.term)),void 0;var o=t.proxy(function(t){return this.cache.put(s,t),i.apply(window,arguments)},this),r=t.extend({},e,{term:s});this._retrieveSuggestions(r,o)},_retrieveSuggestions:function(e,i){var n=this.options.source;s(n)?this._suggestFromDom(e,i):t.isFunction(n)?n(e,i):i(this.options.filter(n,e.term))},_suggestFromDom:function(e,i){var s=this.options.update,n=t.proxy(function(){this._updateDomSuggestions(),i(this.options.filter(this.options.suggestions,e.term))},this);t.isFunction(s)?s.length>=2?s.call(window,e,n):(s.call(window,e),n()):i(this.options.filter(this.options.suggestions,e.term))},_updateDomSuggestions:function(){var e=[],i=t(this.options.source),s=n.list;i.is("table")&&(s=n.table,i=i.children("tbody")),t(i).children("tr, li").each(function(){e.push({value:t(this).data("label")||t(this).text().trim(),dom:t(this).clone()})}),this.option("layout")!==s&&this._setOption("layout",s),this.options.suggestions=e}}),t.extend(t.rich.autocomplete,{ObjectCache:e,cachePrefixExtract:i})}(jQuery),function(t){t.widget("rich.editor",{options:{toolbar:"Basic"},DIRTY_EVENTS:["key","paste","undo","redo"],_create:function(){this.dirtyState=!1,this.valueChanged=!1,this.options=t.extend(this.options,{on:this._getHandlers()}),this.element.on("editorblur",t.proxy(this._triggerChange,this)),this.editorInstance=this.element.is("textarea")?CKEDITOR.replace(this.element.get(0),this.options):CKEDITOR.inline(this.element.get(0),this.options),this.dirtyCheckingInterval=window.setInterval(t.proxy(this._dirtyCheck,this),100)},_destroy:function(){window.clearInterval(this.dirtyCheckingInterval),this.editor().destroy()},editor:function(){return this.editorInstance},value:function(t){return void 0===t?this.editor().getData():(this.editor().setData(t),void 0)},focus:function(){this.editor().focus()},blur:function(){this.editor().focusManager.blur(!0)},isFocused:function(){return this.editor().focusManager.hasFocus},isDirty:function(){return this.dirtyState||this.editor().checkDirty()},isValueChanged:function(){return this.valueChanged||this.isDirty()},readOnly:function(t){return void 0===t?this.editor().readOnly:(this.editor().setReadOnly(t),t)},_getHandlers:function(){var e=this,i={instanceReady:function(t){e._trigger("init",t)},blur:function(t){e._trigger("blur",t)},focus:function(t){e._trigger("focus",t)}};return t.each(this.DIRTY_EVENTS,function(s){i[s]=function(i){window.setTimeout(t.proxy(e._dirtyCheck,e),0,i)}}),i},_dirtyCheck:function(t){this.editor().checkDirty()&&(this.dirtyState=!0,this.valueChanged=!0,this.editor().resetDirty(),this._trigger("dirty",t))},_triggerChange:function(t){this.isDirty()&&(this.valueChanged=!0,this._trigger("change",t)),this.dirtyState=!1}})}(jQuery),function(t){t.widget("rich.select",{options:{},_create:function(){t(this.element).select2()},_destroy:function(){t(this.element).select2("destroy")}})}(jQuery),function(t){t.widget("rf.chart",{options:{charttype:"",xtype:"",ytype:"",zoom:!1,grid:{clickable:!0,hoverable:!0},tooltip:!0,tooltipOpts:{content:"%s  [%x,%y]",shifts:{x:20,y:0},defaultTheme:!1},legend:{postion:"ne",sorted:"ascending"},xaxis:{min:null,max:null,autoscaleMargin:null,axisLabel:""},yaxis:{min:null,max:null,autoscaleMargin:.2,axisLabel:""},data:[]},pieDefaults:{series:{pie:{show:!0}},tooltipOpts:{content:" %p.0%, %s"}},dateDefaults:{xaxis:{mode:"time",timeformat:"%Y/%m/%d",minTickSize:[1,"day"]}},_create:function(){this._handleTypeDependentOptions(),this._draw(),this._registerListeners()},_handleTypeDependentOptions:function(){if("pie"===this.options.charttype)this.options=t.extend(this.options,this.pieDefaults),this.options.data=this.options.data[0];else if("bar"===this.options.charttype){if("string"===this.options.xtype){var e=[],i=[],s=!0,n=0,o=1/(this.options.data.length+1);for(var r in this.options.data){var a=[],l=0;if(s){for(var h in this.options.data[r].data)e.push([l,h]),i.push(h),a.push([l,this.options.data[r].data[h]]),l++;s=!1}else for(var c in i){var d=i[c];this.options.data[r].data[d]?a.push([l,this.options.data[r].data[d]]):a.push([l,0]),l++
}this.options.data[r].data=a;var u={order:n,show:!0};this.options.data[r].bars=u,n++}this.options.xaxis=t.extend(this.options.xaxis,{ticks:e,tickLength:0,tickFormatter:function(t,e){return e.ticks[t].label}}),this.options.bars=t.extend(this.options.bars,{show:!0,barWidth:o,align:"center"})}}else"line"===this.options.charttype&&(this.options.zoom&&(this.options.selection={mode:"xy"}),"date"===this.options.xtype&&(this.options=t.extend(this.options,this.dateDefaults),this.options.xaxis.format&&(this.options.xaxis.timeformat=this.options.xaxis.format)))},_setOption:function(e,i){var s=!0;switch(e){case"xaxis":case"yaxis":case"legend":case"grid":case"tooltip":var n=this.option(e);this._super(e,t.extend(!0,n,i));break;case"zoom":this._super(e,i),i?this._super("selection",{mode:"xy"}):this._super("selection",{}),this._unbind(),this._registerListeners();break;default:this._super(e,i)}s&&this._draw()},_draw:function(e){this.plot=e?t.plot(this.element,e.data,e):t.plot(this.element,this.options.data,this.options)},_registerListeners:function(){this.options.zoom&&this.element.on("plotselected",this._getZoomFunction(this,this.element,this.options))},_getZoomFunction:function(e){return function(i,s){1e-5>s.xaxis.to-s.xaxis.from&&(s.xaxis.to=s.xaxis.from+1e-5),1e-5>s.yaxis.to-s.yaxis.from&&(s.yaxis.to=s.yaxis.from+1e-5),e._draw(t.extend(!0,{},e.options,{xaxis:{min:s.xaxis.from,max:s.xaxis.to},yaxis:{min:s.yaxis.from,max:s.yaxis.to}}))}},resetZoom:function(){this._draw()},getPlotObject:function(){return this.plot},highlight:function(t,e){this.plot.highlight(t,e)},unhighlight:function(t,e){this.plot.unhighlight(t,e)},_unbind:function(){this.element.off("plotselected")},_destroy:function(){this.plot.shutDown(),this._unbind()}})}(jQuery),function(t){t.widget("rich.orderingList",{options:{disabled:!1,header:null,height:null,heightMin:null,heightMax:null,styleClass:null,columnClasses:null,showButtons:!0,buttonsText:null,contained:!0,dragSelect:!1,dropOnEmpty:!0,mouseOrderable:!0,sortFunction:null,change:null,addDomElements:null,create:null,destroy:null,focus:null,blur:null},_create:function(){var e=this;this.selectableOptions={disabled:e.options.disabled},this.sortableOptions={handle:this.options.dragSelect?".handle":!1,disabled:this.options.disabled,dropOnEmpty:this.options.dropOnEmpty,scroll:!0,placeholder:"placeholder",tolerance:"pointer",start:function(t,i){e.currentItems=i.item.parent().children(".ui-selected").not(".placeholder").not(".helper-item");var s=i.helper,n=e.element.find(".placeholder");n.css("height",s.css("height")),e.currentItems.not(i.item).hide()},sort:function(e,i){var s=t(this),n=i.helper.position().top,o=n+i.helper.outerHeight();s.children(".ui-selectee").not(".placeholder").not(".helper-item").not(".ui-selected").each(function(){var e=t(this),i=e.position().top,r=e.position().top+e.outerHeight()/2;return r>n&&o>r?(i>n?t(".placeholder",s).insertAfter(e):t(".placeholder",s).insertBefore(e),!1):void 0})},cancel:function(){e.currentItems.show()},over:function(){e.fillItem&&e._updateFillRow()},beforeStop:function(){},stop:function(t,i){var s=e.currentItems.first();s.get(0)!==i.item.get(0)?(i.item.before(s),s.after(e.currentItems.not(s).detach())):i.item.after(e.currentItems.not(i.item).detach()),e.currentItems.not(".placeholder").show(),e.fillItem&&e._updateFillRow();var n=i.item.parents(".list").data("orderingList");if(n!==e){n._checkSort();var o=e._uiHash();o.change="remove",e._trigger("change",t,o);var r=n;r.change="add",n._trigger("change",t,r)}},update:function(t,i){if(null===i.sender&&i.item.parents(".ordering-list").get(0)===e.element.parents(".ordering-list").get(0)){var s=e._uiHash();s.change="move",s.movement="drag",e._trigger("change",t,s)}}},this.element.is("table")?(this.strategy="table",this.$pluginRoot=this.element.find("tbody"),this.sortableOptions.items="tr:not(.fill-item)",this.selectableOptions.filter="tr:not(.fill-item)",this.sortableOptions.helper=t.proxy(this._rowHelper,this)):(this.strategy="list",this.$pluginRoot=this.element,this.selectableOptions.filter="li",this.sortableOptions.helper=t.proxy(this._listHelper,this)),this.options.contained!==!1&&(this.sortableOptions.containment=this.$pluginRoot,this.sortableOptions.axis="y"),this._addDomElements(),this.options.widgetEventPrefix&&(this.widgetEventPrefix=this.options.widgetEventPrefix),this.options.mouseOrderable===!0&&this.$pluginRoot.sortable(this.sortableOptions),this.$pluginRoot.selectable(this.selectableOptions),this.options.disabled===!0&&e._disable(),this._addDragListeners(),this.selectList.on("focusin",function(t){e._trigger("focus",t,e._uiHash())}),this.selectList.on("focusout",function(t){e._trigger("blur",t,e._uiHash())}),null!==this.options.height&&this._setHeight(this.options.height),null!==this.options.heightMin&&this._setHeightMin(this.options.heightMin),null!==this.options.heightMax&&this._setHeightMax(this.options.heightMax)},_destroy:function(){this._super(),this.options.mouseOrderable===!0&&this.$pluginRoot.sortable("destroy"),this.$pluginRoot.selectable("destroy"),this._removeDomElements(),this.element.attr("class")||this.element.removeAttr("class"),"table"===this.strategy?this.element.children().each(function(){var e=t(this);e.attr("class")||e.removeAttr("class"),e.children().each(function(){var e=t(this);e.attr("class")||e.removeAttr("class"),e.children().each(function(){var e=t(this);e.attr("class")||e.removeAttr("class")})})}):this.element.children().each(function(){var e=t(this);e.attr("class")||e.removeAttr("class")}),this._trigger("destroy",void 0,{})},connectWith:function(e){if(!this.options.mouseOrderable)return this;var i=e.data("richOrderingList");return this.$pluginRoot.sortable("option","connectWith",i.$pluginRoot),this._addFillRow(),e.on("sortover",t.proxy(this._updateFillRow,this)),this},isSelected:function(e){return t(e).hasClass("ui-selected")},getSelected:function(){return this.element.find(".ui-selected")},selectItem:function(e){return t(e).addClass("ui-selected"),this},unSelectItem:function(e){return t(e).removeClass("ui-selected"),this},selectAll:function(){return this.element.find(".ui-selectee").addClass("ui-selected"),this},unSelectAll:function(){return this.element.find(".ui-selected").removeClass("ui-selected"),this},moveFirst:function(e,i){if(i=i||null,e=e||t(".ui-selected",this.element),!this.options.disabled){var s=this.$pluginRoot.find(e),n=s.prevAll().not(".ui-selected").last(),o=this.getOrderedKeys();t(s).insertBefore(n);var r=this.getOrderedKeys();if(""+o!=""+r){var a=this._uiHash();a.change="move",a.movement="moveFirst",this._trigger("change",i,a)}return this}},moveUp:function(e,i){if(i=i||null,e=e||t(".ui-selected",this.element),!this.options.disabled){var s=this.getOrderedKeys(),n=this.$pluginRoot.find(e);t(n).each(function(){var e=t(this),i=e.prevAll().not(".ui-selected").first();i.length>0&&e.insertBefore(i)});var o=this.getOrderedKeys();if(""+s!=""+o){var r=this._uiHash();r.change="move",r.movement="moveUp",this._trigger("change",i,r)}return this}},moveDown:function(e,i){if(i=i||null,e=e||t(".ui-selected",this.element),!this.options.disabled){var s=this.getOrderedKeys(),n=this.$pluginRoot.find(e);t(n).sort(function(){return 1}).each(function(){var e=t(this),i=e.nextAll().not(".ui-selected").first();i.length>0&&e.insertAfter(i)});var o=this.getOrderedKeys();if(""+s!=""+o){var r=this._uiHash();r.change="move",r.movement="moveDown",this._trigger("change",i,r)}return this}},moveLast:function(e,i){if(i=i||null,e=e||t(".ui-selected",this.element),!this.options.disabled){var s=this.getOrderedKeys(),n=this.$pluginRoot.find(e),o=n.nextAll().not(".ui-selected").last();t(n).insertAfter(o);var r=this.getOrderedKeys();if(""+s!=""+r){var a=this._uiHash();a.change="move",a.movement="moveLast",this._trigger("change",i,a)}return this}},remove:function(e){if(e=e||t(".ui-selected",this.element),!e||0===e.length)return null;var i=this.$pluginRoot.find(e).detach(),s=this._uiHash();return s.change="remove",this._trigger("change",{},s),i},add:function(t){if(!t||0===t.length)return null;this.$pluginRoot.prepend(t),this._checkSort();var e=this._uiHash();return e.change="add",this._trigger("change",{},e),t},getOrderedElements:function(){return this.element.find(".ui-selectee")},getOrderedKeys:function(){return this._createKeyArray(this.getOrderedElements())},_setOption:function(t,e){var i=this;if(this.options.key!==e){switch(t){case"disabled":e===!0?i._disable():i._enable();break;case"header":i.header||i._addHeader(),i.header.text(e);break;case"height":i._setHeight(e);break;case"heightMin":i._setHeightMin(e);break;case"heightMax":i._setHeightMax(e);break;case"columnClasses":i.options.columnClasses&&i._removeColumnClasses(i.options.columnClasses),i._addColumnClasses(e);break;case"styleClass":i.options.styleClass&&i.selectList.removeClass(this.options.styleClass),i.selectList.addClass(e);break;case"buttonsText":this._applyButtonsText(this.selectList.find(".btn-group-vertical"),e)}this._super(t,e)}},_addDragListeners:function(){var e=this;this.options.dragSelect===!1?(this.element.on("mousedown",".ui-selectee",function(){var i=t(this);e.selectList.get(0)!==document.activeElement&&e.selectList.focus();var s=i.parents(".list").first();s.data("richOrderingList").mouseStarted=!0}),this.$pluginRoot.on("mousemove",".ui-selectee",function(e){var i=t(this),s=i.parents(".list").first(),n=s.data("richOrderingList");if(n.mouseStarted&&(n.mouseStarted=!1,!i.hasClass("ui-selected"))){var o=n.$pluginRoot.data("uiSelectable");o._mouseStart(e),o._mouseStop(e)}}),this.element.on("mouseup",".ui-selectee",function(e){var i=t(this),s=i.parents(".list").first(),n=s.data("richOrderingList");if(n.mouseStarted){n.mouseStarted=!1;var o=n.$pluginRoot.data("uiSelectable");o._mouseStart(e),o._mouseStop(e)}})):this.element.find(".handle").on("mousedown",function(e){var i=t(this).parents(".ui-selectee").first();if(!i.hasClass("ui-selected")){var s=i.parents(".list").first(),n=s.data("richOrderingList").$pluginRoot.data("uiSelectable");n._mouseStart(e),n._mouseStop(e)}})},_removeDragListeners:function(){this.options.dragSelect===!1?(this.element.off("mousedown",".ui-selectee"),this.element.off("mousemove",".ui-selectee"),this.element.off("mouseup",".ui-selectee")):this.element.find(".handle").off("mousedown")},_listHelper:function(e,i){var s=t("<ol />").addClass("helper").css("height","auto").css("width",this.element.css("width"));return i.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(s),s},_rowHelper:function(e,i){var s=t("<div />").addClass("helper").css("height","auto");i.parent().children(".ui-selected").not(".ui-sortable-placeholder").clone().addClass("helper-item").show().appendTo(s);var n=s.children("tr").first();return n.children().each(function(e){var s=i.children().get(e),n=t(s).css("width");t(this).css("width",n)}),s},_createKeyArray:function(e){var i=[];return e.each(function(){var e=t(this),s=e.data("key"),n=s!==void 0?s:e.text();i.push(n)}),i},_checkSort:function(){if(this.options.sortFunction&&"function"==typeof this.options.sortFunction){var t=this.getOrderedElements().sort(this.options.sortFunction),e=this;t.each(function(){e.element.append(this)})}},_addDomElements:function(){if(this._addParents(),this._addMouseHandles(),this.options.showButtons===!0&&this._addButtons(),"table"===this.strategy){var e=this;this.element.find("tr").each(function(){var i=t(this),s=i.children();s.last().addClass("last"),s.first().addClass("first"),e.options.columnClasses&&e._addColumnClassesToCells(s,e.options.columnClasses)})}this._trigger("addDomElements",void 0,this._uiHash())},_addColumnClasses:function(e){if("table"===this.strategy){var i=this;this.element.find("tr").each(function(){i._addColumnClassesToCells(t(this).children(),e)})}},_addColumnClassesToCells:function(e,i){var s=this._splitColumnClasses(i),n="*"===t.trim(s[s.length-1]),o=n?s.length-1:s.length;e.each(function(e){if(!(n||s.length>e))return!1;var i=s[e%o];t(this).addClass(i)})},_splitColumnClasses:function(e){var i=e.split(",");return t.each(i,function(e,s){i[e]=t.trim(s)}),i},_addButtons:function(){var e=t("<div/>").addClass("btn-group-vertical");this._addButton(e,"first",t.proxy(this._firstHandler,this)),this._addButton(e,"up",t.proxy(this._upHandler,this)),this._addButton(e,"down",t.proxy(this._downHandler,this)),this._addButton(e,"last",t.proxy(this._lastHandler,this)),this.options.buttonsText&&this._applyButtonsText(e,this.options.buttonsText),this.content.append(t("<div />").addClass("button-column").append(e))},_applyButtonsText:function(t,e){this._applyButtonText(t.find(".btn-first"),e.first),this._applyButtonText(t.find(".btn-up"),e.up),this._applyButtonText(t.find(".btn-down"),e.down),this._applyButtonText(t.find(".btn-last"),e.last)},_applyButtonText:function(e,i){return i?(e.hasClass("labeled")?e.find("span").text(i):e.addClass("labeled").append(t("<span />").text(i)),void 0):(e.hasClass("labeled")&&(e.removeClass("labeled"),e.find("span").remove()),void 0)},_addButton:function(e,i,s){var n=t("<button/>").attr("type","button").addClass("btn btn-default").addClass("btn-"+i).on("click.orderingList",s).append(t("<i />").addClass("fa richicon-"+i));e.append(n)},_addMouseHandles:function(){this.options.mouseOrderable===!0&&this.options.dragSelect===!0&&(this.content.addClass("with-handle"),"table"===this.strategy?(this.element.find("tbody > tr").prepend('<th class="handle"><i class="fa fa-arrows"></i></th>'),this.element.find("thead > tr").prepend('<th class="handle"></th>')):"list"===this.strategy&&this.element.find("li").prepend('<div class="handle"><i class="fa fa-arrows"></i></div>'))},_addParents:function(){this.element.addClass("list").wrap(t("<div />").addClass("ordering-list select-list").attr("tabindex",-1).focus(function(){var t=window.scrollX,e=window.scrollY;setTimeout(function(){window.scrollTo(t,e)},0)}).append(t("<div />").addClass("content").append(t("<div />").addClass("scroll-box")))),this.selectList=this.element.parents(".select-list").first(),this.options.styleClass&&this.selectList.addClass(this.options.styleClass),this.options.header&&this._addHeader(),this.content=this.selectList.find(".content")},_addHeader:function(){var e=t("<div />").addClass("header");e.html(this.options.header),this.selectList.prepend(e),this.header=e},_addFillRow:function(){var e=this.$pluginRoot.sortable("option","connectWith");if(e&&"table"===this.strategy){var i,s=this.$pluginRoot.sortable("option","items"),n=this.$pluginRoot.find(s);if(n.length>0)i=n.first();else{var o=t(e).find("tr");o.length>0&&(i=o.first())}if(i){var r=i.clone();r.removeClass().addClass("fill-item").removeClass("ui-selectee"),r.find("td").empty(),r.data("key",void 0),this.$pluginRoot.append(r),this.fillItem=r,this.element.on(this.options.widgetEventPrefix+"change",t.proxy(this._updateFillRow,this))}this._updateFillRow()}},_updateFillRow:function(){if(this.fillItem){this.fillItem.css("height","0");var t=this.fillItem.parents("table").first(),e=this.fillItem.parents("tbody").first(),i=this.fillItem.parents(".scroll-box").first();this.fillItem.detach();var s=i.height()-t.height(),n=this.element.find(".placeholder");n&&(s-=n.height()),this.fillItem.height(s),this.fillItem.toggle(s>2),e.append(this.fillItem)}},_setHeight:function(t){this.selectList.find(".scroll-box").css("height",t)},_setHeightMin:function(t){this.selectList.find(".scroll-box").css("min-height",t)},_setHeightMax:function(t){this.selectList.find(".scroll-box").css("max-height",t)},_disable:function(){this.$pluginRoot.sortable("option","disabled",!0).selectable("option","disabled",!0),this.element.addClass("disabled").find(".ui-selected").removeClass("ui-selected"),this.element.find(".ui-selectee").removeClass("ui-selectee").addClass("ui-disabled"),t(".button-column",this.content).find("button").attr("disabled",!0),this._removeDragListeners()},_enable:function(){this.$pluginRoot.sortable("option","disabled",!1).selectable("option","disabled",!1),this.element.removeClass("disabled"),this.element.find(".ui-disabled").removeClass("ui-disabled").addClass("ui-selectee"),t(".button-column",this.content).find("button").attr("disabled",!1),this._addDragListeners()},_uiHash:function(){var t={};return t.orderedElements=this.getOrderedElements(),t.orderedKeys=this.getOrderedKeys(),t},_removeDomElements:function(){if(this.element.find(".ui-selected").removeClass("ui-selected"),"table"===this.strategy){var e=this;this.element.find("tr").each(function(){var i=t(this),s=i.children();s.last().removeClass("last"),s.first().removeClass("first"),e.options.columnClasses&&e._removeColumnClassesFromCells(s,e.options.columnClasses)}),this.fillItem&&this.element.find(".fill-item").remove()}var i=this.element.detach();this.selectList.replaceWith(i),this.options.dragSelect===!0&&(this.content.removeClass("with-handle"),this.element.find(".handle").remove()),this.options.disabled===!0&&(this.element.removeClass("disabled"),this.element.find(".ui-disabled").removeClass("ui-disabled")),this.element.removeClass("list")},_removeColumnClasses:function(e){if("table"===this.strategy){var i=this;this.element.find("tr").each(function(){i._removeColumnClassesFromCells(t(this).children(),e)})}},_removeColumnClassesFromCells:function(e,i){var s=this._splitColumnClasses(i),n="*"===t.trim(s[s.length-1]),o=n?s.length-1:s.length;e.each(function(e){if(!(n||s.length>e))return!1;var i=s[e%o];t(this).removeClass(i)})},_firstHandler:function(e){this.moveFirst(t(".ui-selected",this.element),e)},_upHandler:function(e){this.moveUp(t(".ui-selected",this.element),e)},_downHandler:function(e){this.moveDown(t(".ui-selected",this.element),e)},_lastHandler:function(e){this.moveLast(t(".ui-selected",this.element),e)}})}(jQuery),function(t){t.widget("rich.pickList",{options:{disabled:!1,header:null,sourceHeader:null,targetHeader:null,height:null,heightMin:null,heightMax:null,styleClass:null,columnClasses:null,switchByClick:!1,switchByDblClick:!0,orderable:!0,orderButtonsText:null,pickButtonsText:null,sortFunction:null,change:null,addDomElements:null,create:null,destroy:null,focus:null,blur:null},_create:function(){this.options.widgetEventPrefix&&(this.widgetEventPrefix=this.options.widgetEventPrefix),this.sourceList=this.element.find(".source"),this.targetList=this.element.find(".target"),this._addDomElements(),this.sourceList.orderingList({showButtons:!1,mouseOrderable:this.options.orderable,sortFunction:this.options.sortFunction,contained:!1,columnClasses:this.options.columnClasses,disabled:this.options.disabled,header:this.options.sourceHeader,widgetEventPrefix:"sourcelist_"}),this.targetList.orderingList({showButtons:this.options.orderable,mouseOrderable:this.options.orderable,sortFunction:this.options.sortFunction,contained:!1,columnClasses:this.options.columnClasses,buttonsText:this.options.orderButtonsText,disabled:this.options.disabled,header:this.options.targetHeader,widgetEventPrefix:"targetlist_"}),this.options.orderable&&(this.sourceList.orderingList("connectWith",this.targetList),this.targetList.orderingList("connectWith",this.sourceList)),this._registerListeners(),this.options.disabled===!0&&this._disable(),null!==this.options.height&&this._setHeight(this.options.height),null!==this.options.heightMin&&this._setHeightMin(this.options.heightMin),null!==this.options.heightMax&&this._setHeightMax(this.options.heightMax)},_destroy:function(){this._super(),this._unregisterListeners(),this.sourceList.orderingList("destroy"),this.targetList.orderingList("destroy"),this._removeDomElements(),this.element.removeClass("inner"),this.element.attr("class")||this.element.removeAttr("class"),this._trigger("destroy",void 0,{})},addItems:function(e,i){return i=i||null,e=e||t(".ui-selected",this.sourceList),this.options.disabled?void 0:(this.sourceList.orderingList("remove",e),this.targetList.orderingList("add",e),this)},addAllItems:function(e){var i=t(".ui-selectee",this.sourceList);return this.addItems(i,e),this.targetList.orderingList("selectItem",i),this},removeItems:function(e,i){return i=i||null,e=e||t(".ui-selected",this.targetList),this.options.disabled?void 0:(this.targetList.orderingList("remove",e),this.sourceList.orderingList("add",e),this)},removeAllItems:function(e){var i=t(".ui-selectee",this.targetList);return this.removeItems(i,e),this.sourceList.orderingList("selectItem",i),this},getSourceWidget:function(){return t(this.sourceList).data("richOrderingList")},getTargetWidget:function(){return t(this.targetList).data("richOrderingList")},_setOption:function(t,e){var i=this;if(this.options.key!==e){switch(t){case"disabled":e===!0?i._disable():i._enable();break;case"header":i.options.header||i._addHeader(e),i.outer.find(".header-row .header").text(e);break;case"height":i._setHeight(e);break;case"heightMin":i._setHeightMin(e);break;case"heightMax":i._setHeightMax(e);break;case"sourceHeader":i.options.sourceHeader||i.options.targetHeader||i._addSubHeader(e,i.options.targetHeader),i.outer.find(".sub-header-row .source").text(e);break;case"targetHeader":i.options.sourceHeader||i.options.targetHeader||i._addSubHeader(i.options.sourceHeader,e),i.outer.find(".sub-header-row .target").text(e);break;case"styleClass":i.options.styleClass&&i.outer.removeClass(i.options.styleClass),i.outer.addClass(e);break;case"columnClasses":i.sourceList.orderingList("option","columnClasses",e),i.targetList.orderingList("option","columnClasses",e);break;case"orderButtonsText":i.targetList.orderingList("option","buttonsText",e);break;case"pickButtonsText":this._applyButtonsText(this.outer.find(".middle .btn-group-picklist"),e);break;case"switchByClick":e===!0?i._addClickListeners():i._removeClickListeners();break;case"switchByDblClick":e===!0?i._addDoubleClickListeners():i._removeDoubleClickListeners();break;case"sortFunction":i.sourceList.orderingList("option","sortFunction",e),i.targetList.orderingList("option","sortFunction",e)}this._super(t,e)}},_addDomElements:function(){this._addParents();var e=t("<div />").addClass("middle pick-button-column");e.append(this._buttonStack()),this.sourceList.parent().after(e),this._trigger("addDomElements",void 0,{})},_buttonStack:function(){var e=t('<button type="button" class="btn btn-default"/>'),i=t("<div/>").addClass("btn-group-picklist");return i.append(e.clone().addClass("btn-add-all").html('<i class="fa richicon-right-all" />').on("click.pickList",t.proxy(this._addAllHandler,this))).append(e.clone().addClass("btn-add").html('<i class="fa richicon-right" />').on("click.pickList",t.proxy(this._addHandler,this))).append(e.clone().addClass("btn-remove").html('<i class="fa richicon-left" />').on("click.pickList",t.proxy(this._removeHandler,this))).append(e.clone().addClass("btn-remove-all").html('<i class="fa richicon-left-all" />').on("click.pickList",t.proxy(this._removeAllHandler,this))),this.options.pickButtonsText&&this._applyButtonsText(i,this.options.pickButtonsText),i},_applyButtonsText:function(t,e){this._applyButtonText(t.find(".btn-add-all"),e.addAll),this._applyButtonText(t.find(".btn-add"),e.add),this._applyButtonText(t.find(".btn-remove"),e.remove),this._applyButtonText(t.find(".btn-remove-all"),e.removeAll)},_applyButtonText:function(e,i){return i?(e.hasClass("labeled")?e.find("span").text(i):e.addClass("labeled").append(t("<span />").text(i)),void 0):(e.hasClass("labeled")&&(e.removeClass("labeled"),e.find("span").remove()),void 0)},_addParents:function(){this.element.addClass("inner").wrap(t("<div />").addClass("pick-list outer")),this.outer=this.element.parents(".outer").first(),this.options.styleClass&&this.outer.addClass(this.options.styleClass),this.options.header&&this._addHeader(this.options.header),(this.options.sourceHeader||this.options.targetHeader)&&this._addSubHeader(this.options.sourceHeader,this.options.targetHeader),this.sourceList.wrap(t("<div />").addClass("source-wrapper")),this.targetList.wrap(t("<div />").addClass("target-wrapper")),this.content=this.element,this.outer.attr("tabindex","-1")},_addSubHeader:function(e,i){if(e||i){var s=t("<div />").addClass("sub-header-row"),n=t("<div />").addClass("source header").html(e),o=t("<div />").addClass("target header").html(i);s.append(n).append('<div class="middle" />').append(o);var r=this.outer.find(".header-row");0!==r.length?s.insertAfter(r):this.outer.prepend(s)}},_addHeader:function(e){if(e){var i=t("<div />").addClass("header-row"),s=t("<div />").addClass("header").html(e);i.append(s);var n=this.outer.find(".sub-header-row");0!==n.length?i.insertBefore(n):this.outer.prepend(i)}},_setHeight:function(t){this.sourceList.orderingList("option","height",t),this.targetList.orderingList("option","height",t)},_setHeightMin:function(t){this.sourceList.orderingList("option","heightMin",t),this.targetList.orderingList("option","heightMin",t)},_setHeightMax:function(t){this.sourceList.orderingList("option","heightMax",t),this.targetList.orderingList("option","heightMax",t)},_registerListeners:function(){var t=this;this.targetList.on("targetlist_change",function(e,i){var s=t._uiHash();s.change=i.change,s.movement=i.movement,t._trigger("change",e,s)}),this.options.switchByClick&&this._addClickListeners(),this.options.switchByDblClick&&this._addDoubleClickListeners(),this.outer.on("focusin.picklist",function(e){t._trigger("focus",e,t._uiHash())}),this.outer.on("focusout.picklist",function(e){t._trigger("blur",e,t._uiHash())})},_unregisterListeners:function(){this.outer.off("focusin.picklist"),this.outer.off("focusout.picklist")},_addClickListeners:function(){var e=this;this.sourceList.on("click.pickList",".ui-selectee",function(i){e.addItems(t(this),i)}),this.targetList.on("click.pickList",".ui-selectee",function(i){e.removeItems(t(this),i)})},_removeClickListeners:function(){this.sourceList.off("click.picklist",".ui-selectee"),this.targetList.off("click.picklist",".ui-selectee")},_addDoubleClickListeners:function(){var e=this;this.sourceList.on("dblclick.pickList",".ui-selectee",function(i){e.addItems(t(this),i)}),this.targetList.on("dblclick.pickList",".ui-selectee",function(i){e.removeItems(t(this),i)})},_removeDoubleClickListeners:function(){this.sourceList.off("dblclick.picklist",".ui-selectee"),this.targetList.off("dblclick.picklist",".ui-selectee")},_disable:function(){this.sourceList.orderingList("option","disabled",!0),this.targetList.orderingList("option","disabled",!0),this.element.addClass("disabled"),this.outer.find(".pick-button-column button").attr("disabled",!0)},_enable:function(){this.sourceList.orderingList("option","disabled",!1),this.targetList.orderingList("option","disabled",!1),this.element.removeClass("disabled"),this.outer.find(".pick-button-column button").attr("disabled",!1),this._registerListeners()},_uiHash:function(){var t={};return t.pickedElements=this.targetList.orderingList("getOrderedElements"),t.pickedKeys=this.targetList.orderingList("getOrderedKeys"),t},_removeDomElements:function(){this.sourceList.parents(".source-wrapper").first().replaceWith(this.sourceList.detach()),this.targetList.parents(".target-wrapper").first().replaceWith(this.targetList.detach()),this.element.find(".middle").remove();var t=this.element.detach();this.outer.replaceWith(t)},_addHandler:function(e){this.addItems(t(".ui-selected",this.sourceList),e)},_addAllHandler:function(){this.addAllItems()},_removeHandler:function(e){this.removeItems(t(".ui-selected",this.targetList),e)},_removeAllHandler:function(e){var i=t(".ui-selectee",this.targetList);this.removeItems(i,e),this.sourceList.orderingList("selectItem",i)}})}(jQuery);